const a0_0x2fe5b9=a0_0x28b7;(function(_0xb4a467,_0x4b2a05){const _0x145023=a0_0x28b7,_0x18c814=_0xb4a467();while(!![]){try{const _0x29a7bb=parseInt(_0x145023(0x16d))/0x1*(-parseInt(_0x145023(0x144))/0x2)+-parseInt(_0x145023(0x162))/0x3*(parseInt(_0x145023(0x1c1))/0x4)+-parseInt(_0x145023(0x1f3))/0x5+-parseInt(_0x145023(0x173))/0x6+parseInt(_0x145023(0x1cf))/0x7+parseInt(_0x145023(0x200))/0x8+parseInt(_0x145023(0x1a3))/0x9;if(_0x29a7bb===_0x4b2a05)break;else _0x18c814['push'](_0x18c814['shift']());}catch(_0x3741fc){_0x18c814['push'](_0x18c814['shift']());}}}(a0_0x5971,0x30305));function crearMenuHTML(){const _0x34dcec=a0_0x28b7;let _0x65ef23=_0x34dcec(0x1f5);document[_0x34dcec(0x1da)][_0x34dcec(0x1e2)](_0x34dcec(0x1fd),_0x65ef23),setTimeout(function(){const _0x346efa=_0x34dcec,_0x1314dc=document[_0x346efa(0x1f8)]('canvas');if(_0x1314dc){const _0x1afea8=document[_0x346efa(0x1ed)]('menu-bar')[_0x346efa(0x184)];_0x1314dc['style'][_0x346efa(0x188)]=_0x346efa(0x1a6),_0x1314dc[_0x346efa(0x190)]['top']=_0x1afea8+'px',_0x1314dc[_0x346efa(0x190)][_0x346efa(0x1d3)]='0',_0x1314dc['style'][_0x346efa(0x14f)]='0',_0x1314dc[_0x346efa(0x190)][_0x346efa(0x166)]='0',_0x1314dc[_0x346efa(0x190)][_0x346efa(0x1df)]=_0x346efa(0x1d0);const _0x61421d=window[_0x346efa(0x187)]-_0x1afea8;_0x1314dc[_0x346efa(0x1d9)]=_0x61421d,_0x1314dc[_0x346efa(0x190)][_0x346efa(0x1d9)]=_0x61421d+'px',typeof resizeCanvas===_0x346efa(0x143)&&resizeCanvas(_0x1314dc['width'],_0x61421d);}},0x32);}function toggleMenu(_0x5ba15d){const _0x3da05e=a0_0x28b7,_0x3935cc=document['getElementById'](_0x5ba15d);_0x3935cc['style'][_0x3da05e(0x1db)]=_0x3935cc[_0x3da05e(0x190)][_0x3da05e(0x1db)]===_0x3da05e(0x1ad)?'none':_0x3da05e(0x1ad),_0x5ba15d==='archivo-menu'?document[_0x3da05e(0x1ed)]('config-menu')[_0x3da05e(0x190)]['display']='none':document['getElementById'](_0x3da05e(0x1b5))['style'][_0x3da05e(0x1db)]=_0x3da05e(0x1d0);}document[a0_0x2fe5b9(0x1f0)](a0_0x2fe5b9(0x207),function(_0x167943){const _0x57b626=a0_0x2fe5b9;!_0x167943['target'][_0x57b626(0x193)](_0x57b626(0x176))&&(document[_0x57b626(0x1ed)](_0x57b626(0x1b5))['style'][_0x57b626(0x1db)]=_0x57b626(0x1d0),document['getElementById'](_0x57b626(0x1bd))[_0x57b626(0x190)][_0x57b626(0x1db)]=_0x57b626(0x1d0));});let ultimoArchivoAza=null,ultimoArchivoCrm=null;function guardarPosiciones(){const _0x57c8f9=a0_0x2fe5b9;robotFisico['xInicio']=robotFisico['body'][_0x57c8f9(0x188)]['x'],robotFisico[_0x57c8f9(0x17f)]=robotFisico[_0x57c8f9(0x1da)]['position']['y'],robotFisico['anguloInicio']=robotFisico['body'][_0x57c8f9(0x1f6)],obstaculoInicio=[];for(let _0x3e14fa=0x0;_0x3e14fa<obstaculo[_0x57c8f9(0x152)];_0x3e14fa++){let _0x5d74f5=obstaculo[_0x3e14fa];obstaculoInicio['push'](new ObstaculoInicio(_0x5d74f5[_0x57c8f9(0x1da)][_0x57c8f9(0x188)]['x'],_0x5d74f5[_0x57c8f9(0x1da)][_0x57c8f9(0x188)]['y'],_0x5d74f5[_0x57c8f9(0x174)],_0x5d74f5[_0x57c8f9(0x14a)],_0x5d74f5[_0x57c8f9(0x1da)][_0x57c8f9(0x1f6)],_0x5d74f5[_0x57c8f9(0x1b1)]));}alert(_0x57c8f9(0x201));}function nuevoArchivo(){const _0x2d92e2=a0_0x2fe5b9;if(confirm('¿Está\x20seguro\x20de\x20que\x20desea\x20crear\x20un\x20nuevo\x20archivo?\x20Se\x20perderán\x20los\x20cambios\x20no\x20guardados.')){eliminarConfiguracion(),eliminarCrumble();for(let _0x5d02d4=0x0;_0x5d02d4<0x7;_0x5d02d4++){crearVariable(String['fromCharCode'](0x74+_0x5d02d4));}document[_0x2d92e2(0x1ed)](_0x2d92e2(0x15d))[_0x2d92e2(0x1f1)]='Sin_titulo',ultimoArchivoAza=null,ultimoArchivoCrm=null;}}function a0_0x5971(){const _0x17c88a=['texto','</VariableBlock>','Nombre\x20del\x20archivo:','from','click','function','48TkgClc','green','push','calculoGrosorBucle','log','variablePadre','alto','bucle','WhenRunBlock','getElementsByTagName','Jumper','margin','<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22?>','Error\x20añadiendo\x20sub-bloque:','length','<Crumblebot><x>','indiceLISTA','</y><angulo>','.crm','</conector></GPIO>','Error\x20obteniendo\x20coordenadas\x20para','close','conectorGPIO','anterior','</estatico></Obstaculo>','nombre-archivo','<Jumpers>','input','AxDato','<WhenRunBlock><x>','141tUhYCT','trim','</CrumbleDocument>','</Conectores>','padding','red','siguiente','Obstaculos','conector','IfElseBlock','VariableBlock','15338npmojk','</adopt_point>','conditional','eliminar','Conectores','</blue>','1521042rttPMz','ancho','</attach_point>','button','</y></Jumper>','Jumpers',':scope\x20>\x20adopt_point','files','Error\x20al\x20abrir\x20archivo\x20Crumble:','</Variables>','warn','error','yInicio','Error\x20en\x20el\x20XML:\x20','tagName','indexOf','</y>','offsetHeight','gpioConectado','<Canvas>','innerHeight','position','<attach_point\x20index=\x220\x22>','Error\x20al\x20abrir\x20el\x20archivo\x20Crumble.\x20Formato\x20incorrecto.\x0a','conectado','endsWith','</WhenRunBlock>','<Jumper><x>','</Elementos>','style','</alto><angulo>','<blue>','closest','</gpioConectado><elementoConectado>','href','Variable','<CrumbleDocument\x20version=\x221.5.8\x22\x20language=\x22english\x22>','</file></Tapete>','target','result','anguloInicio','xInicio','<red>','.aza','onload','actualizarCoordenadas','appendChild','padre','5341455oGlVHz','AxTexto','</Obstaculos>','absolute','Archivo\x20guardado\x20exitosamente:\x0a','subBloque','Elementos','nombre','><x>','</red>','block','text/xml','type','removeChild','estatico','</Variable>','num','<GPIOs>','archivo-menu','</x><y>','¿Desea\x20también\x20abrir\x20el\x20archivo\x20Crumble\x20asociado?\x0a','name','<Elementos>','then','download','¿Está\x20seguro\x20de\x20que\x20desea\x20salir?','config-menu','angulo','Obstaculo','<Tapete><file>','2936SiuSNr','accept','</Canvas>','readAsText','<GPIO><conector>','Elemento','</conector></Elemento>','Error\x20al\x20abrir\x20archivo:','cloneNode','ultrasonidosConectado','<Canva>','parentElement','Error\x20al\x20clonar\x20XML:','tipoDato','620459ZGnFpg','none','children','querySelectorAll','left','parseFromString','blue','</y><ancho>','splice','<adopt_point\x20index=\x220\x22>','height','body','display','dato','setPosition','replace','border','</GPIOs>','setAttribute','insertAdjacentHTML','Body','<Variables>','<Ultrasonido><conectado>','<Conectores>','</conectado></Ultrasonido>','<Variable>','getAttribute','elementoConectado','conectorElemento','onchange','getElementById','Error\x20al\x20abrir\x20el\x20archivo.\x20Formato\x20incorrecto.','DOMContentLoaded','addEventListener','textContent','</Jumpers>','7970TaBZkj','createElement','\x0a\x20\x20\x20\x20<div\x20id=\x22menu-bar\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20#2c3e50;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20padding:\x207px;\x0a\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20style=\x22margin-right:\x2020px;\x20font-weight:\x20bold;\x22>Az-zait</span>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20inline-block;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleMenu(\x27archivo-menu\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>Archivo</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22archivo-menu\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x20150px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x202px\x202px\x205px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22nuevoArchivo()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Nuevo</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22abrirArchivoAza()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Abrir\x20escenario</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarArchivoAza()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20escenario</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22margin:\x205px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22abrirArchivoCrumble()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Abrir\x20código</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarArchivoCrumble()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20código</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22margin:\x205px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22window.close()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Salir</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20inline-block;\x20position:\x20relative;\x20margin-left:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleMenu(\x27config-menu\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>Configuración</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22config-menu\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x20150px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x202px\x202px\x205px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarPosiciones()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20posiciones</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22cargarTapete()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Cargar\x20tapete</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22eliminarTapete()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Eliminar\x20tapete</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20right;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20250px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22nombre-archivo\x22\x20style=\x22font-style:\x20italic;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sin_titulo\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20/*\x20ESTILOS\x20PARA\x20ELIMINAR\x20MÁRGENES\x20DEL\x20BODY\x20Y\x20CANVAS\x20*/\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20canvas\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050px;\x20/*\x20Altura\x20exacta\x20del\x20menú\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20','angle','file','querySelector','ElseBlock','calculoAnchoDato','adopt_point','data:text/plain;charset=utf-8,','afterbegin','colour','<Obstaculo><x>','1383680JlsPap','Posiciones\x20guardadas','bucleSiguiente'];a0_0x5971=function(){return _0x17c88a;};return a0_0x5971();}function abrirArchivoAza(){const _0x43232f=a0_0x2fe5b9,_0x348a17=document[_0x43232f(0x1f4)](_0x43232f(0x15f));_0x348a17[_0x43232f(0x1af)]=_0x43232f(0x1f7),_0x348a17[_0x43232f(0x1c2)]=_0x43232f(0x19e),_0x348a17['onchange']=function(_0x14041c){const _0x2a4017=_0x43232f,_0x37646a=_0x14041c[_0x2a4017(0x199)]['files'][0x0];if(!_0x37646a)return;ultimoArchivoAza=_0x37646a[_0x2a4017(0x1b8)];const _0x467fdc=_0x37646a[_0x2a4017(0x1b8)][_0x2a4017(0x1de)]('.aza',_0x2a4017(0x156)),_0x2a29f8=new FileReader();_0x2a29f8[_0x2a4017(0x19f)]=function(_0x14ea27){const _0x4f279f=_0x2a4017,_0x32c774=_0x14ea27[_0x4f279f(0x199)][_0x4f279f(0x19a)];fetch(_0x467fdc)[_0x4f279f(0x1ba)](_0x5e3707=>{const _0x3af976=_0x4f279f;_0x5e3707['ok']&&(confirm(_0x3af976(0x1b7)+_0x467fdc)&&(ultimoArchivoCrm=_0x467fdc,abrirArchivoCrumble(_0x467fdc))),abrirArchivoDesdeContenido(_0x32c774),document[_0x3af976(0x1ed)](_0x3af976(0x15d))[_0x3af976(0x1f1)]=_0x37646a[_0x3af976(0x1b8)]['replace'](/\.[^/.]+$/,'');})['catch'](()=>{const _0x34bb57=_0x4f279f;abrirArchivoDesdeContenido(_0x32c774),document[_0x34bb57(0x1ed)](_0x34bb57(0x15d))['textContent']=_0x37646a['name'][_0x34bb57(0x1de)](/\.[^/.]+$/,'');});},_0x2a29f8[_0x2a4017(0x1c4)](_0x37646a);},_0x348a17[_0x43232f(0x207)]();}function guardarArchivoAza(){const _0x5a121c=a0_0x2fe5b9;let _0x5fc52e;if(ultimoArchivoAza)_0x5fc52e=prompt(_0x5a121c(0x205),ultimoArchivoAza);else ultimoArchivoCrm?_0x5fc52e=prompt(_0x5a121c(0x205),ultimoArchivoCrm):_0x5fc52e=prompt('Nombre\x20del\x20archivo:\x20Sin_Titulo');if(!_0x5fc52e)return;_0x5fc52e=_0x5fc52e['replace'](/\.[^/.]+$/,'')+_0x5a121c(0x19e);!_0x5fc52e[_0x5a121c(0x18c)](_0x5a121c(0x19e))&&(_0x5fc52e+='.aza');ultimoArchivoAza=_0x5fc52e;const _0x47fef1=generarArchivo();let _0x150918=ultimoArchivoAza;const _0x18b2e3=document[_0x5a121c(0x1f4)]('a');_0x18b2e3[_0x5a121c(0x1e1)](_0x5a121c(0x195),_0x5a121c(0x1fc)+encodeURIComponent(_0x47fef1)),_0x18b2e3[_0x5a121c(0x1e1)](_0x5a121c(0x1bb),_0x150918),_0x18b2e3['style'][_0x5a121c(0x1db)]=_0x5a121c(0x1d0),document['body'][_0x5a121c(0x1a1)](_0x18b2e3),_0x18b2e3[_0x5a121c(0x207)](),document[_0x5a121c(0x1da)][_0x5a121c(0x1b0)](_0x18b2e3),ultimoArchivoAza=_0x150918,document[_0x5a121c(0x1ed)](_0x5a121c(0x15d))[_0x5a121c(0x1f1)]=_0x150918[_0x5a121c(0x1de)](/\.[^/.]+$/,''),alert(_0x5a121c(0x1a7)+_0x150918),confirm('¿Desea\x20también\x20guardar\x20el\x20archivo\x20Crumble?')&&guardarArchivoCrumble();}function abrirArchivoCrumble(){const _0x33ebeb=a0_0x2fe5b9,_0x422b56=document['createElement'](_0x33ebeb(0x15f));_0x422b56[_0x33ebeb(0x1af)]=_0x33ebeb(0x1f7),_0x422b56[_0x33ebeb(0x1c2)]='.crm',_0x422b56[_0x33ebeb(0x1ec)]=function(_0x228b1e){const _0xcabc0a=_0x33ebeb,_0x334b34=_0x228b1e[_0xcabc0a(0x199)][_0xcabc0a(0x17a)][0x0];if(!_0x334b34)return;ultimoArchivoCrm=_0x334b34[_0xcabc0a(0x1b8)];const _0x44b9a4=new FileReader();_0x44b9a4[_0xcabc0a(0x19f)]=function(_0x196fc0){const _0x23074f=_0xcabc0a,_0x4c0b6f=_0x196fc0[_0x23074f(0x199)][_0x23074f(0x19a)];abrirArchivoCrumbleDesdeContenido(_0x4c0b6f),nombre=nombre[_0x23074f(0x1de)](/\.[^/.]+$/,'')+_0x23074f(0x19e),document[_0x23074f(0x1ed)](_0x23074f(0x15d))[_0x23074f(0x1f1)]=_0x334b34[_0x23074f(0x1b8)][_0x23074f(0x1de)](/\.[^/.]+$/,'');},_0x44b9a4[_0xcabc0a(0x1c4)](_0x334b34);},_0x422b56[_0x33ebeb(0x207)]();}function a0_0x28b7(_0x3c8790,_0x2bfe8b){_0x3c8790=_0x3c8790-0x143;const _0x5971a8=a0_0x5971();let _0x28b7d6=_0x5971a8[_0x3c8790];return _0x28b7d6;}function guardarArchivoCrumble(){const _0x162f31=a0_0x2fe5b9;let _0x2b438d;if(ultimoArchivoCrm)_0x2b438d=prompt('Nombre\x20del\x20archivo:',ultimoArchivoCrm);else ultimoArchivoAza?_0x2b438d=prompt(_0x162f31(0x205),ultimoArchivoAza):_0x2b438d=prompt('Nombre\x20del\x20archivo:\x20Sin_Titulo');if(!_0x2b438d)return;_0x2b438d=_0x2b438d[_0x162f31(0x1de)](/\.[^/.]+$/,'')+'.crm';!_0x2b438d[_0x162f31(0x18c)]('.crm')&&(_0x2b438d+=_0x162f31(0x156));ultimoArchivoCrm=_0x2b438d;const _0x2ed634=generarArchivoCrumble();let _0x37cfda=ultimoArchivoCrm;const _0x711c80=document['createElement']('a');_0x711c80['setAttribute'](_0x162f31(0x195),_0x162f31(0x1fc)+encodeURIComponent(_0x2ed634)),_0x711c80['setAttribute'](_0x162f31(0x1bb),_0x37cfda),_0x711c80[_0x162f31(0x190)]['display']=_0x162f31(0x1d0),document[_0x162f31(0x1da)][_0x162f31(0x1a1)](_0x711c80),_0x711c80['click'](),document[_0x162f31(0x1da)][_0x162f31(0x1b0)](_0x711c80),ultimoArchivoCrm=_0x37cfda,document['getElementById']('nombre-archivo')[_0x162f31(0x1f1)]=_0x37cfda[_0x162f31(0x1de)](/\.[^/.]+$/,''),alert(_0x162f31(0x1a7)+_0x37cfda);}nombreArchivo;function generarArchivo(){const _0xdfdb19=a0_0x2fe5b9;let _0x187c46=_0xdfdb19(0x1cb);_0x187c46+=_0xdfdb19(0x153)+robotFisico[_0xdfdb19(0x19c)]+'</x><y>'+robotFisico[_0xdfdb19(0x17f)]+_0xdfdb19(0x155)+robotFisico['anguloInicio']+'</angulo></Crumblebot>';nombreFondo!=null&&(_0x187c46+=_0xdfdb19(0x1c0)+nombreFondo+_0xdfdb19(0x198));_0x187c46+=_0xdfdb19(0x1e5)+robot[_0xdfdb19(0x1ca)]+_0xdfdb19(0x1e7),_0x187c46+=_0xdfdb19(0x15e);for(let _0xd77263 of jumpers){_0x187c46+=_0xdfdb19(0x18e)+_0xd77263['x']+_0xdfdb19(0x1b6)+_0xd77263['y']+_0xdfdb19(0x177);}_0x187c46+=_0xdfdb19(0x1f2),_0x187c46+=_0xdfdb19(0x1e6);for(let _0x2e6549 of conector){const _0x383ac5=gpio[_0xdfdb19(0x182)](_0x2e6549[_0xdfdb19(0x185)]),_0x4656dd=elemento[_0xdfdb19(0x182)](_0x2e6549[_0xdfdb19(0x1ea)]);_0x187c46+='<Conector><x>'+_0x2e6549['x']+'</x><y>'+_0x2e6549['y']+'</y><gpioConectado>'+_0x383ac5+_0xdfdb19(0x194)+_0x4656dd+'</elementoConectado></Conector>';}_0x187c46+=_0xdfdb19(0x165),_0x187c46+=_0xdfdb19(0x1b4);for(let _0x5cbf13 of gpio){const _0x4008c7=conector[_0xdfdb19(0x182)](_0x5cbf13[_0xdfdb19(0x15a)]);_0x187c46+=_0xdfdb19(0x1c5)+_0x4008c7+_0xdfdb19(0x157);}_0x187c46+=_0xdfdb19(0x1e0),_0x187c46+=_0xdfdb19(0x1b9);for(let _0x9a736b of elemento){const _0x287294=conector['indexOf'](_0x9a736b[_0xdfdb19(0x1eb)]);_0x187c46+='<Elemento><conector>'+_0x287294+_0xdfdb19(0x1c7);}_0x187c46+=_0xdfdb19(0x18f);if(obstaculoInicio[_0xdfdb19(0x152)]>0x0){_0x187c46+='<Obstaculos>';for(let _0x318d20 of obstaculoInicio){_0x187c46+=_0xdfdb19(0x1ff)+_0x318d20['x']+_0xdfdb19(0x1b6)+_0x318d20['y']+_0xdfdb19(0x1d6)+_0x318d20['ancho']+'</ancho><alto>'+_0x318d20[_0xdfdb19(0x14a)]+_0xdfdb19(0x191)+_0x318d20[_0xdfdb19(0x1be)]+'</angulo><estatico>'+_0x318d20[_0xdfdb19(0x1b1)]+_0xdfdb19(0x15c);}_0x187c46+=_0xdfdb19(0x1a5);}return _0x187c46+='</Canva>',_0x187c46;}function generarArchivoCrumble(){const _0x404fce=a0_0x2fe5b9;let _0x47b392=_0x404fce(0x150);_0x47b392+=_0x404fce(0x197),_0x47b392+=_0x404fce(0x1e4);for(let _0x25e9af of codigoVariables){_0x47b392+=_0x404fce(0x1e8)+_0x25e9af[_0x404fce(0x203)][0x0]+_0x404fce(0x1b2);}_0x47b392+=_0x404fce(0x17c),_0x47b392+=_0x404fce(0x186);if(bloquesStart!=null)for(let _0x44e9a7 of bloquesStart){_0x47b392+=_0x404fce(0x161)+int(_0x44e9a7['x']+width/0x2)+'</x><y>'+int(_0x44e9a7['y']+height/0x2)+'</y>',_0x44e9a7[_0x404fce(0x168)]!=null&&(_0x47b392+=_0x404fce(0x189),_0x47b392+=generarBloqueXML(_0x44e9a7[_0x404fce(0x168)],![]),_0x47b392+=_0x404fce(0x175)),_0x47b392+=_0x404fce(0x18d);}for(let _0x3b7569 of codigo){!_0x3b7569[_0x404fce(0x1aa)]==_0x404fce(0x14c)&&_0x3b7569[_0x404fce(0x15b)]==null&&_0x3b7569[_0x404fce(0x1a2)]==null&&(_0x47b392+=generarBloqueXML(_0x3b7569,!![]));}return _0x47b392+=_0x404fce(0x1c3),_0x47b392+=_0x404fce(0x164),_0x47b392;}function generarBloqueXML(_0x209a9a,_0x149e58){const _0x18bb9d=a0_0x2fe5b9;if(_0x209a9a==null)return'';if(_0x209a9a[_0x18bb9d(0x1aa)]==_0x18bb9d(0x1f9))return'';if(_0x209a9a[_0x18bb9d(0x149)]!=null)return'<VariableBlock>'+_0x209a9a['texto'][0x0]+_0x18bb9d(0x204);const _0x194f43=obtenerInfoBloqueCrumble(_0x209a9a['nombre']);if(_0x194f43==null)return'';let _0x447aaf='';_0x149e58?_0x447aaf+='<'+_0x209a9a['nombre']+_0x18bb9d(0x1ab)+int(_0x209a9a['x']+width/0x2)+_0x18bb9d(0x1b6)+int(_0x209a9a['y']+height/0x2)+_0x18bb9d(0x183):_0x447aaf+='<'+_0x209a9a[_0x18bb9d(0x1aa)]+'>';for(let _0x4ff416=0x1;_0x4ff416<_0x194f43[_0x18bb9d(0x152)];_0x4ff416++){const _0x249043=_0x194f43[_0x4ff416];if(_0x249043!=''){const _0x5ad3cc=_0x209a9a[_0x18bb9d(0x1a8)]!=null&&_0x4ff416-0x1<_0x209a9a['subBloque'][_0x18bb9d(0x152)]&&_0x209a9a['subBloque'][_0x4ff416-0x1]!=null,_0x2a1e43=_0x249043==_0x18bb9d(0x16f);_0x447aaf+='<'+_0x249043+'>';if(_0x5ad3cc)_0x2a1e43?(_0x447aaf+=_0x18bb9d(0x1d8),_0x447aaf+=generarBloqueXML(_0x209a9a['subBloque'][_0x4ff416-0x1],![]),_0x447aaf+=_0x18bb9d(0x16e)):(_0x209a9a[_0x18bb9d(0x1dc)]!=null&&_0x4ff416-0x1<_0x209a9a[_0x18bb9d(0x1dc)]['length']&&_0x209a9a[_0x18bb9d(0x1dc)][_0x4ff416-0x1]!=null&&(_0x447aaf+=_0x209a9a[_0x18bb9d(0x1dc)][_0x4ff416-0x1]),_0x447aaf+=_0x18bb9d(0x1d8),_0x447aaf+=generarBloqueXML(_0x209a9a[_0x18bb9d(0x1a8)][_0x4ff416-0x1],![]),_0x447aaf+=_0x18bb9d(0x16e));else{if(_0x209a9a[_0x18bb9d(0x1dc)]!=null&&_0x4ff416-0x1<_0x209a9a[_0x18bb9d(0x1dc)][_0x18bb9d(0x152)]&&_0x209a9a[_0x18bb9d(0x1dc)][_0x4ff416-0x1]!=null){if(_0x249043==_0x18bb9d(0x1fe)){const _0x403dfa=color(_0x209a9a[_0x18bb9d(0x1dc)][_0x4ff416-0x1]);_0x447aaf+=_0x18bb9d(0x19d)+int(red(_0x403dfa))+_0x18bb9d(0x1ac),_0x447aaf+='<green>'+int(green(_0x403dfa))+'</green>',_0x447aaf+=_0x18bb9d(0x192)+int(blue(_0x403dfa))+_0x18bb9d(0x172);}else _0x447aaf+=_0x209a9a[_0x18bb9d(0x1dc)][_0x4ff416-0x1];}else _0x2a1e43&&(_0x447aaf+='/');}_0x447aaf+='</'+_0x249043+'>';}}if(_0x209a9a[_0x18bb9d(0x1aa)]==_0x18bb9d(0x16b)){if(_0x209a9a['bucle']&&_0x209a9a[_0x18bb9d(0x202)]!=null){_0x447aaf+=_0x18bb9d(0x1d8);let _0x249f60=_0x209a9a[_0x18bb9d(0x202)];while(_0x249f60!=null&&_0x249f60[_0x18bb9d(0x1aa)]!=_0x18bb9d(0x1f9)){_0x447aaf+=generarBloqueXML(_0x249f60,![]),_0x249f60=_0x249f60['siguiente'];}_0x447aaf+=_0x18bb9d(0x16e);}if(_0x209a9a['siguiente']!=null&&_0x209a9a[_0x18bb9d(0x168)][_0x18bb9d(0x1aa)]==_0x18bb9d(0x1f9)){const _0x3f0f23=_0x209a9a['siguiente'];if(_0x3f0f23[_0x18bb9d(0x202)]!=null){_0x447aaf+='<adopt_point\x20index=\x221\x22>';let _0x37855f=_0x3f0f23[_0x18bb9d(0x202)];while(_0x37855f!=null){_0x447aaf+=generarBloqueXML(_0x37855f,![]),_0x37855f=_0x37855f[_0x18bb9d(0x168)];}_0x447aaf+=_0x18bb9d(0x16e);}_0x209a9a[_0x18bb9d(0x168)][_0x18bb9d(0x168)]!=null&&(_0x447aaf+=_0x18bb9d(0x189),_0x447aaf+=generarBloqueXML(_0x209a9a[_0x18bb9d(0x168)]['siguiente'],![]),_0x447aaf+='</attach_point>');}}else{if(_0x209a9a[_0x18bb9d(0x14b)]&&_0x209a9a['bucleSiguiente']!=null){_0x447aaf+=_0x18bb9d(0x1d8);let _0x3370b3=_0x209a9a[_0x18bb9d(0x202)];while(_0x3370b3!=null){_0x447aaf+=generarBloqueXML(_0x3370b3,![]),_0x3370b3=_0x3370b3[_0x18bb9d(0x168)];}_0x447aaf+=_0x18bb9d(0x16e);}}return _0x209a9a[_0x18bb9d(0x168)]!=null&&_0x209a9a[_0x18bb9d(0x168)][_0x18bb9d(0x1aa)]!=_0x18bb9d(0x1f9)&&(_0x447aaf+=_0x18bb9d(0x189),_0x447aaf+=generarBloqueXML(_0x209a9a[_0x18bb9d(0x168)],![]),_0x447aaf+=_0x18bb9d(0x175)),_0x447aaf+='</'+_0x209a9a[_0x18bb9d(0x1aa)]+'>',_0x447aaf;}function obtenerInfoBloqueCrumble(_0x45b5f4){const _0x3b24d8=a0_0x2fe5b9;for(let _0x47bada=0x0;_0x47bada<NOTACION_CRUMBLE[_0x3b24d8(0x152)];_0x47bada++){for(let _0x1b2315=0x0;_0x1b2315<NOTACION_CRUMBLE[_0x47bada][_0x3b24d8(0x152)];_0x1b2315++){if(NOTACION_CRUMBLE[_0x47bada][_0x1b2315][0x0]==_0x45b5f4)return NOTACION_CRUMBLE[_0x47bada][_0x1b2315];}}return null;}function eliminarConfiguracion(){const _0x1a3fb4=a0_0x2fe5b9;ledsActivos=0x0,esperarUnCiclo=![],saltoIfElse=![],miliSegundos=0x0,Crono=0x0,Distancia=0x0,offsetX=0x0,offsetY=0x0,panSimulacionX=0x0,panSimulacionY=0x0,panCodigoX=0x0,panCodigoY=0x0,robotFisico[_0x1a3fb4(0x19c)]=0x0,robotFisico[_0x1a3fb4(0x17f)]=0x0,Matter[_0x1a3fb4(0x1e3)][_0x1a3fb4(0x1dd)](robotFisico[_0x1a3fb4(0x1da)],{'x':0x0,'y':0x0}),robotFisico['body'][_0x1a3fb4(0x1f6)]=0x0,robotFisico['potMotor']=[0x0,0x0],robot[_0x1a3fb4(0x1ca)]=![],fondo=null;for(let _0x2994cd=0x0;_0x2994cd<0x4;_0x2994cd++){for(let _0x384bf6=0x0;_0x384bf6<0x2;_0x384bf6++){conector[_0x2994cd*0x2+_0x384bf6]['x']=ANCHO_ROBOT/0x2+0xa+_0x2994cd*0x32+_0x384bf6*0x16,conector[_0x2994cd*0x2+_0x384bf6]['y']=0x32-ALTO_ROBOT/0x2,conector[_0x2994cd*0x2+_0x384bf6]['gpioConectado']=null,conector[_0x2994cd*0x2+_0x384bf6]['elementoConectado']=null;}}for(let _0xde5178=0x0;_0xde5178<0x4;_0xde5178++){for(let _0x367f8c=0x0;_0x367f8c<0x2;_0x367f8c++){conector[0x8+_0xde5178*0x2+_0x367f8c]['x']=-0x15e+_0x367f8c*0x32,conector[0x8+_0xde5178*0x2+_0x367f8c]['y']=-0x96+_0xde5178*0x4b,conector[0x8+_0xde5178*0x2+_0x367f8c][_0x1a3fb4(0x185)]=null,conector[0x8+_0xde5178*0x2+_0x367f8c]['elementoConectado']=null;}}for(let _0x560571=0x0;_0x560571<0x4;_0x560571++){jumpers[_0x560571]['x']=ANCHO_ROBOT/0x2+0xa+_0x560571*0x32,jumpers[_0x560571]['y']=0x32-ALTO_ROBOT/0x2;}for(let _0x30f967=0x0;_0x30f967<conectorGPIO[_0x1a3fb4(0x152)];_0x30f967++){gpio[_0x30f967][_0x1a3fb4(0x15a)]=null,elemento[_0x30f967][_0x1a3fb4(0x1eb)]=null;}for(let _0x2038c2=obstaculo[_0x1a3fb4(0x152)]-0x1;_0x2038c2>=0x0;_0x2038c2--){obstaculo[_0x2038c2][_0x1a3fb4(0x170)]();}obstaculo=[],obstaculoSeleccionado=null,obstaculoInicio=[];for(let _0x429145=0x0;_0x429145<0x10;_0x429145++)customColor[_0x429145]=color(0xff);for(let _0x393856=0x0;_0x393856<0x8;_0x393856++)colorLED[_0x393856]=color(0x0);}function abrirArchivoDesdeContenido(_0xb1c5eb){const _0x26b6b5=a0_0x2fe5b9;eliminarConfiguracion();try{const _0x24bfb4=new DOMParser(),_0xb3e82=_0x24bfb4['parseFromString'](_0xb1c5eb,_0x26b6b5(0x1ae)),_0x634e9c=_0xb3e82[_0x26b6b5(0x14d)]('x')[0x0][_0x26b6b5(0x1f1)],_0x162129=_0xb3e82['getElementsByTagName']('y')[0x0][_0x26b6b5(0x1f1)],_0x2f264b=_0xb3e82[_0x26b6b5(0x14d)]('angulo')[0x0][_0x26b6b5(0x1f1)];robotFisico[_0x26b6b5(0x19c)]=_0x634e9c,robotFisico[_0x26b6b5(0x17f)]=_0x162129,robotFisico[_0x26b6b5(0x19b)]=float(_0x2f264b),Matter[_0x26b6b5(0x1e3)][_0x26b6b5(0x1dd)](robotFisico[_0x26b6b5(0x1da)],{'x':robotFisico['xInicio'],'y':robotFisico['yInicio']}),robotFisico[_0x26b6b5(0x1da)]['angle']=robotFisico[_0x26b6b5(0x19b)];const _0x11c6cf=_0xb3e82[_0x26b6b5(0x14d)]('Tapete');if(_0x11c6cf[_0x26b6b5(0x152)]>0x0){const _0x3b6bb9=_0x11c6cf[0x0][_0x26b6b5(0x14d)](_0x26b6b5(0x1f7))[0x0]['textContent'];nombreFondo=null;try{for(let _0x228a2b=0x0;_0x228a2b<archivosSVG['length'];_0x228a2b++){if(_0x3b6bb9===archivosSVG[_0x228a2b]){nombreFondo=_0x3b6bb9,console[_0x26b6b5(0x148)](nombreFondo),cargarFondo();break;}else inicioMensaje=millis(),mensaje='ERROR\x20AL\x20CARGAR\x20EL\x20TAPETE:\x20'+_0x3b6bb9+'NO\x20SE\x20ENCUENTRA\x20EN\x20LA\x20CARPETA\x20ESCENARIOS';}}catch(_0xd28756){console[_0x26b6b5(0x17e)]('Error\x20al\x20cargar\x20tapete:',_0xd28756);}}const _0x1eb775=_0xb3e82[_0x26b6b5(0x14d)]('Ultrasonido');if(_0x1eb775[_0x26b6b5(0x152)]>0x0){const _0x11afcd=_0x1eb775[0x0]['getElementsByTagName'](_0x26b6b5(0x18b))[0x0];_0x11afcd&&(robot[_0x26b6b5(0x1ca)]=_0x11afcd[_0x26b6b5(0x1f1)]==='true');}const _0x176f27=_0xb3e82[_0x26b6b5(0x14d)](_0x26b6b5(0x178));if(_0x176f27['length']>0x0){const _0x133924=_0x176f27[0x0][_0x26b6b5(0x14d)](_0x26b6b5(0x14e));for(let _0x38a9e1=0x0;_0x38a9e1<_0x133924['length']&&_0x38a9e1<jumpers[_0x26b6b5(0x152)];_0x38a9e1++){const _0x43ba53=_0x133924[_0x38a9e1],_0x5d86dc=_0x43ba53[_0x26b6b5(0x14d)]('x')[0x0],_0x5831=_0x43ba53['getElementsByTagName']('y')[0x0];_0x5d86dc&&_0x5831&&(jumpers[_0x38a9e1]['x']=parseInt(_0x5d86dc[_0x26b6b5(0x1f1)]),jumpers[_0x38a9e1]['y']=parseInt(_0x5831['textContent']));}}const _0x49edbd=_0xb3e82[_0x26b6b5(0x14d)](_0x26b6b5(0x171));if(_0x49edbd['length']>0x0){const _0x19c6a5=_0x49edbd[0x0]['getElementsByTagName']('Conector');for(let _0x1d7aad=0x0;_0x1d7aad<_0x19c6a5['length']&&_0x1d7aad<conector[_0x26b6b5(0x152)];_0x1d7aad++){const _0x499b84=_0x19c6a5[_0x1d7aad],_0x14871a=_0x499b84['getElementsByTagName']('x')[0x0];if(_0x14871a)conector[_0x1d7aad]['x']=parseInt(_0x14871a[_0x26b6b5(0x1f1)]);const _0x3d84f5=_0x499b84['getElementsByTagName']('y')[0x0];if(_0x3d84f5)conector[_0x1d7aad]['y']=parseInt(_0x3d84f5[_0x26b6b5(0x1f1)]);const _0x3c40ed=_0x499b84[_0x26b6b5(0x14d)](_0x26b6b5(0x185))[0x0];if(_0x3c40ed){const _0x3b13ec=parseInt(_0x3c40ed['textContent']);conector[_0x1d7aad][_0x26b6b5(0x185)]=_0x3b13ec!==-0x1?gpio[_0x3b13ec]:null;}const _0x2e1fc6=_0x499b84[_0x26b6b5(0x14d)](_0x26b6b5(0x1ea))[0x0];if(_0x2e1fc6){const _0x313c01=parseInt(_0x2e1fc6[_0x26b6b5(0x1f1)]);conector[_0x1d7aad][_0x26b6b5(0x1ea)]=_0x313c01!==-0x1?elemento[_0x313c01]:null;}}}const _0x3d707e=_0xb3e82[_0x26b6b5(0x14d)]('GPIOs');if(_0x3d707e[_0x26b6b5(0x152)]>0x0){const _0x486405=_0x3d707e[0x0][_0x26b6b5(0x14d)]('GPIO');for(let _0x3b3f20=0x0;_0x3b3f20<_0x486405[_0x26b6b5(0x152)]&&_0x3b3f20<gpio['length'];_0x3b3f20++){const _0x2e331a=_0x486405[_0x3b3f20],_0x1345ba=_0x2e331a[_0x26b6b5(0x14d)]('conector')[0x0];if(_0x1345ba){const _0x1d26aa=parseInt(_0x1345ba[_0x26b6b5(0x1f1)]);gpio[_0x3b3f20][_0x26b6b5(0x15a)]=_0x1d26aa!==-0x1?conector[_0x1d26aa]:null;}}}const _0x3c8612=_0xb3e82[_0x26b6b5(0x14d)](_0x26b6b5(0x1a9));if(_0x3c8612['length']>0x0){const _0x3c9835=_0x3c8612[0x0][_0x26b6b5(0x14d)](_0x26b6b5(0x1c6));for(let _0x8826=0x0;_0x8826<_0x3c9835[_0x26b6b5(0x152)]&&_0x8826<elemento[_0x26b6b5(0x152)];_0x8826++){const _0x3f0246=_0x3c9835[_0x8826],_0x5e8649=_0x3f0246['getElementsByTagName'](_0x26b6b5(0x16a))[0x0];if(_0x5e8649){const _0x2d96da=parseInt(_0x5e8649[_0x26b6b5(0x1f1)]);elemento[_0x8826][_0x26b6b5(0x1eb)]=_0x2d96da!==-0x1?conector[_0x2d96da]:null;}}}const _0x1fb20d=_0xb3e82[_0x26b6b5(0x14d)](_0x26b6b5(0x169));if(_0x1fb20d[_0x26b6b5(0x152)]>0x0){const _0x1600ee=_0x1fb20d[0x0]['getElementsByTagName'](_0x26b6b5(0x1bf));for(let _0x3016b9=0x0;_0x3016b9<_0x1600ee[_0x26b6b5(0x152)];_0x3016b9++){const _0x5a997e=_0x1600ee[_0x3016b9],_0x360109=_0x5a997e[_0x26b6b5(0x14d)]('x')[0x0],_0x46047d=_0x5a997e[_0x26b6b5(0x14d)]('y')[0x0],_0x6d0e2f=_0x5a997e['getElementsByTagName'](_0x26b6b5(0x174))[0x0],_0x8f6c3f=_0x5a997e['getElementsByTagName'](_0x26b6b5(0x14a))[0x0],_0x3e7f08=_0x5a997e[_0x26b6b5(0x14d)](_0x26b6b5(0x1be))[0x0],_0x3c4786=_0x5a997e[_0x26b6b5(0x14d)]('estatico')[0x0],_0x8ab613=parseFloat(_0x360109[_0x26b6b5(0x1f1)]),_0x45caab=parseFloat(_0x46047d[_0x26b6b5(0x1f1)]),_0x2535f7=parseFloat(_0x6d0e2f[_0x26b6b5(0x1f1)]),_0x39bce4=parseFloat(_0x8f6c3f['textContent']),_0x2e3dce=parseFloat(_0x3e7f08[_0x26b6b5(0x1f1)]),_0x3f1e6a=_0x3c4786[_0x26b6b5(0x1f1)]==='true',_0x315703=new Obstaculo(_0x8ab613,_0x45caab,_0x2535f7,_0x39bce4,_0x2e3dce,_0x3f1e6a);obstaculo[_0x26b6b5(0x146)](_0x315703);const _0x4217c8=new ObstaculoInicio(_0x8ab613,_0x45caab,_0x2535f7,_0x39bce4,_0x2e3dce,_0x3f1e6a);obstaculoInicio[_0x26b6b5(0x146)](_0x4217c8);}}}catch(_0x1f07e4){console[_0x26b6b5(0x17e)](_0x26b6b5(0x1c8),_0x1f07e4),alert(_0x26b6b5(0x1ee));}}function abrirArchivoCrumbleDesdeContenido(_0x1e0c26){const _0x42733b=a0_0x2fe5b9;eliminarCrumble();try{const _0x2f7c3b=new DOMParser(),_0x50fba3=_0x2f7c3b[_0x42733b(0x1d4)](_0x1e0c26,_0x42733b(0x1ae)),_0x5e9122=_0x50fba3[_0x42733b(0x1f8)]('parsererror');if(_0x5e9122)throw new Error(_0x42733b(0x180)+_0x5e9122[_0x42733b(0x1f1)]);const _0x1adc38=_0x50fba3[_0x42733b(0x14d)](_0x42733b(0x196));for(let _0x1f85c0=0x0;_0x1f85c0<_0x1adc38[_0x42733b(0x152)];_0x1f85c0++){const _0x11081f=_0x1adc38[_0x1f85c0][_0x42733b(0x1f1)];_0x11081f&&_0x11081f[_0x42733b(0x163)]()!==''&&crearVariable(_0x11081f[_0x42733b(0x163)]());}const _0x1ed728=_0x50fba3[_0x42733b(0x14d)]('Canvas')[0x0];if(_0x1ed728){const _0x2a5b8e=Array[_0x42733b(0x206)](_0x1ed728['children']);for(let _0x48b84c of _0x2a5b8e){const _0x42f909=procesarBloque(_0x48b84c,!![]);if(!_0x42f909)continue;_0x42f909[_0x42733b(0x1aa)]==='WhenRunBlock'&&(bloquesStart[_0x42733b(0x146)](_0x42f909),bloqueStartSeleccionado=_0x42f909),procesarConexiones(_0x48b84c,_0x42f909);}}for(let _0x22f0b7 of codigo){if(_0x22f0b7[_0x42733b(0x14b)]===!![]&&_0x22f0b7['bucleSiguiente']!==null){let _0xf7b116=_0x22f0b7['bucleSiguiente'];_0x22f0b7[_0x42733b(0x202)]['padre']=_0x22f0b7;while(_0xf7b116[_0x42733b(0x168)]!==null){_0xf7b116[_0x42733b(0x168)][_0x42733b(0x1a2)]=_0x22f0b7,_0xf7b116=_0xf7b116[_0x42733b(0x168)];}}}for(let _0x1e4c09 of codigo){_0x1e4c09[_0x42733b(0x147)]();_0x1e4c09[_0x42733b(0x15b)]===null&&_0x1e4c09[_0x42733b(0x1a2)]===null&&_0x1e4c09[_0x42733b(0x1a0)]();for(let _0x4980a3=0x0;_0x4980a3<_0x1e4c09['subBloque'][_0x42733b(0x152)];_0x4980a3++){_0x1e4c09[_0x42733b(0x1a8)][_0x4980a3]===null&&_0x1e4c09[_0x42733b(0x1ce)][_0x4980a3]!=='*'&&(_0x1e4c09[_0x42733b(0x160)][_0x4980a3]=_0x1e4c09[_0x42733b(0x1fa)](_0x1e4c09[_0x42733b(0x1dc)][_0x4980a3]));if(_0x1e4c09['tipoDato'][_0x4980a3]>='0'&&_0x1e4c09[_0x42733b(0x1ce)][_0x4980a3]<='6'){const _0x25f637=parseInt(_0x1e4c09[_0x42733b(0x1ce)][_0x4980a3]);for(let _0x11d8f5=0x0;_0x11d8f5<LISTA[_0x25f637][_0x42733b(0x152)];_0x11d8f5++){if(_0x1e4c09[_0x42733b(0x1dc)][_0x4980a3]===LISTA[_0x25f637][_0x11d8f5]){_0x1e4c09[_0x42733b(0x154)][_0x4980a3]=_0x11d8f5;break;}}}}_0x1e4c09['calculoDimensiones']();}bloquesNoSeleccionados=[...codigo];bloqueStartSeleccionado!==null&&(bloqueEjecutando=bloqueStartSeleccionado);ejecutando=![];for(let _0x35c882 of codigoVariables){_0x35c882[_0x42733b(0x1dc)][0x0]='0',_0x35c882['valorNumerico']=0x0;}}catch(_0x49a448){console[_0x42733b(0x17e)](_0x42733b(0x17b),_0x49a448),alert(_0x42733b(0x18a)+_0x49a448['message']);}}function procesarBloque(_0x4b3f48,_0x4e5efd){const _0x1578f6=a0_0x2fe5b9,_0x2933d2=_0x4b3f48[_0x1578f6(0x181)];if(!_0x2933d2)return null;let _0x4483c7=0x0,_0x3925f9=0x0;if(_0x4e5efd)try{const _0x2cf713=_0x4b3f48[_0x1578f6(0x1f8)]('x'),_0x5a6812=_0x4b3f48[_0x1578f6(0x1f8)]('y');_0x2cf713&&_0x5a6812&&(_0x4483c7=parseInt(_0x2cf713['textContent'])-width/0x2,_0x3925f9=parseInt(_0x5a6812[_0x1578f6(0x1f1)])-height/0x2);}catch(_0x4cf989){console[_0x1578f6(0x17d)](_0x1578f6(0x158),_0x2933d2);}if(_0x2933d2===_0x1578f6(0x16c)){const _0x515443=_0x4b3f48[_0x1578f6(0x1f1)]['trim']();for(let _0x32a8f7 of codigoVariables){if(_0x32a8f7['texto'][0x0]===_0x515443){const _0x5b2f64=new Bloque(_0x4483c7,_0x3925f9,0x3,0x4,BOTON_VARIABLE,![],!![]);return _0x5b2f64[_0x1578f6(0x203)][0x0]=_0x32a8f7[_0x1578f6(0x203)][0x0],_0x5b2f64['AxTexto'][0x0]=_0x32a8f7[_0x1578f6(0x1a4)][0x0],_0x5b2f64[_0x1578f6(0x149)]=_0x32a8f7,codigo[_0x1578f6(0x146)](_0x5b2f64),cont++,_0x5b2f64['num']=cont,_0x5b2f64;}}return null;}let _0xf47fb=-0x1,_0x20c693=-0x1;for(let _0x210bda=0x0;_0x210bda<t[_0x1578f6(0x152)];_0x210bda++){for(let _0x4bcd3e=0x0;_0x4bcd3e<t[_0x210bda][_0x1578f6(0x152)];_0x4bcd3e++){if(t[_0x210bda][_0x4bcd3e][0x0]===_0x2933d2){_0xf47fb=_0x210bda,_0x20c693=_0x4bcd3e;break;}}if(_0xf47fb!==-0x1)break;}if(_0xf47fb===-0x1)return null;const _0x224630=new Bloque(_0x4483c7,_0x3925f9,_0xf47fb,_0x20c693,t[_0xf47fb][_0x20c693],![],!![]);codigo[_0x1578f6(0x146)](_0x224630),cont++,_0x224630[_0x1578f6(0x1b3)]=cont;const _0x37a607=obtenerInfoBloqueCrumble(_0x2933d2);if(_0x37a607)for(let _0x3c67ea=0x1;_0x3c67ea<_0x37a607['length'];_0x3c67ea++){const _0x4aa970=_0x37a607[_0x3c67ea];if(!_0x4aa970)continue;const _0x147245=_0x4b3f48[_0x1578f6(0x1f8)](_0x4aa970);if(_0x147245){const _0x5c5003=clonarNodoXML(_0x147245),_0x3f01b7=_0x5c5003[_0x1578f6(0x1f8)]('adopt_point');_0x3f01b7&&_0x5c5003[_0x1578f6(0x1b0)](_0x3f01b7);const _0x6ac21=_0x5c5003['textContent']['trim']();if(_0x6ac21&&_0x6ac21!=='/'){if(_0x4aa970===_0x1578f6(0x1fe)){const _0x50ffa2=_0x147245[_0x1578f6(0x1f8)](_0x1578f6(0x167))?parseInt(_0x147245[_0x1578f6(0x1f8)](_0x1578f6(0x167))['textContent']):0xff,_0x31dc4b=_0x147245[_0x1578f6(0x1f8)](_0x1578f6(0x145))?parseInt(_0x147245['querySelector'](_0x1578f6(0x145))[_0x1578f6(0x1f1)]):0xff,_0x493842=_0x147245[_0x1578f6(0x1f8)](_0x1578f6(0x1d5))?parseInt(_0x147245[_0x1578f6(0x1f8)](_0x1578f6(0x1d5))[_0x1578f6(0x1f1)]):0xff;_0x224630['dato'][_0x3c67ea-0x1]=str(color(_0x50ffa2,_0x31dc4b,_0x493842));}else _0x224630['dato'][_0x3c67ea-0x1]=_0x6ac21;}}}return _0x224630;}function procesarConexiones(_0x164786,_0x25258c){const _0x2898f8=a0_0x2fe5b9;let _0x3904d7=null,_0x35e8b6=null;const _0x496181=_0x164786['querySelector'](':scope\x20>\x20attach_point');if(_0x496181){const _0x11564d=Array[_0x2898f8(0x206)](_0x496181[_0x2898f8(0x1d1)]);_0x11564d[_0x2898f8(0x152)]>0x0&&(_0x35e8b6=_0x11564d[0x0],_0x3904d7=procesarBloque(_0x35e8b6,![]));}if(_0x25258c[_0x2898f8(0x1aa)]===_0x2898f8(0x16b)){const _0x282096=new Bloque(_0x25258c['x'],_0x25258c['y'],0x2,0x5,t[0x2][0x5],![],!![]);codigo[_0x2898f8(0x146)](_0x282096),cont++,_0x282096[_0x2898f8(0x1b3)]=cont,_0x25258c[_0x2898f8(0x168)]=_0x282096,_0x282096[_0x2898f8(0x15b)]=_0x25258c,_0x3904d7&&(_0x282096[_0x2898f8(0x168)]=_0x3904d7,_0x3904d7['anterior']=_0x282096);}else _0x3904d7&&(_0x25258c[_0x2898f8(0x168)]=_0x3904d7,_0x3904d7['anterior']=_0x25258c);_0x3904d7&&_0x35e8b6&&procesarConexiones(_0x35e8b6,_0x3904d7);const _0x4c0088=obtenerInfoBloqueCrumble(_0x25258c['nombre']);if(_0x4c0088&&_0x25258c['subBloque'])for(let _0x1e6b37=0x1;_0x1e6b37<_0x4c0088['length'];_0x1e6b37++){const _0x1d3ea8=_0x4c0088[_0x1e6b37];if(!_0x1d3ea8)continue;const _0x1428b1=_0x164786[_0x2898f8(0x1f8)](_0x1d3ea8);if(_0x1428b1){const _0xc827c6=_0x1428b1[_0x2898f8(0x1f8)](_0x2898f8(0x1fb));if(_0xc827c6){const _0x180137=Array[_0x2898f8(0x206)](_0xc827c6[_0x2898f8(0x1d1)]);for(let _0x24e63e of _0x180137){const _0x421f2e=procesarBloque(_0x24e63e,![]);if(_0x421f2e){const _0x34ccfe=bloqueSeleccionado;bloqueSeleccionado=_0x421f2e;try{if(_0x1e6b37-0x1<_0x25258c[_0x2898f8(0x1a8)]['length']){if(_0x25258c['subBloque'][_0x1e6b37-0x1]){const _0x4bac60=codigo[_0x2898f8(0x182)](_0x25258c[_0x2898f8(0x1a8)][_0x1e6b37-0x1]);_0x4bac60!==-0x1&&codigo[_0x2898f8(0x1d7)](_0x4bac60,0x1);}_0x25258c[_0x2898f8(0x1a8)][_0x1e6b37-0x1]=_0x421f2e,_0x421f2e['padre']=_0x25258c;}}catch(_0x595fba){console[_0x2898f8(0x17d)](_0x2898f8(0x151),_0x595fba);}bloqueSeleccionado=_0x34ccfe,procesarConexiones(_0x24e63e,_0x421f2e);}}}}}const _0x276c0d=_0x164786[_0x2898f8(0x1d2)](_0x2898f8(0x179));for(let _0x4dd437 of _0x276c0d){const _0x469d36=_0x4dd437[_0x2898f8(0x1cc)]?.[_0x2898f8(0x181)];if(['count','time','conditional']['includes'](_0x469d36))continue;const _0xa62e56=_0x4dd437[_0x2898f8(0x1d1)][0x0];if(!_0xa62e56)continue;const _0x93062=_0x4dd437[_0x2898f8(0x1e9)]('index'),_0x34b86b=procesarBloque(_0xa62e56,![]);if(!_0x34b86b)continue;if(_0x34b86b['nombre']===_0x2898f8(0x16b)){const _0x1aaf0a=new Bloque(_0x34b86b['x'],_0x34b86b['y'],0x2,0x5,t[0x2][0x5],![],!![]);codigo['push'](_0x1aaf0a),cont++,_0x1aaf0a['num']=cont,_0x34b86b[_0x2898f8(0x168)]=_0x1aaf0a,_0x1aaf0a[_0x2898f8(0x15b)]=_0x34b86b;}_0x25258c[_0x2898f8(0x1aa)]===_0x2898f8(0x16b)&&_0x93062==='1'?(_0x25258c[_0x2898f8(0x168)][_0x2898f8(0x202)]=_0x34b86b,_0x34b86b[_0x2898f8(0x1a2)]=_0x25258c['siguiente']):(_0x25258c[_0x2898f8(0x202)]=_0x34b86b,_0x34b86b['padre']=_0x25258c),procesarConexiones(_0xa62e56,_0x34b86b);}}function clonarNodoXML(_0x362569){const _0x5243c3=a0_0x2fe5b9;if(!_0x362569)return null;try{return _0x362569[_0x5243c3(0x1c9)](!![]);}catch(_0x4662ff){return console[_0x5243c3(0x17d)](_0x5243c3(0x1cd),_0x4662ff),null;}}function crearVariable(_0x1ae6c3){const _0x1db43e=a0_0x2fe5b9,_0x2b6bfb=new Bloque(0x0,0x0,0x3,0x3,t[0x3][0x3],![],!![]);_0x2b6bfb['texto'][0x0]=_0x1ae6c3,_0x2b6bfb[_0x1db43e(0x1a4)][0x0]=textWidth(_0x1ae6c3),codigoVariables[_0x1db43e(0x146)](_0x2b6bfb);const _0x3aeef0=new Bloque(0x0,0x0,0x3,0x4,BOTON_VARIABLE,![],!![]);return _0x3aeef0[_0x1db43e(0x203)][0x0]=_0x1ae6c3,_0x3aeef0[_0x1db43e(0x149)]=_0x2b6bfb,botonesVariables[_0x1db43e(0x146)](_0x3aeef0),_0x2b6bfb;}function eliminarCrumble(){ejecutando=![],codigo=[],bloquesStart=[],codigoVariables=[],bloqueSeleccionado=null,bloquesSeleccionados=[],botonesVariables=[];}function cargarTapete(){modo=0x6;}function eliminarTapete(){fondo=null,nombreFondo=null,alert('Tapete\x20eliminado');}function salirAplicacion(){const _0x5cf35d=a0_0x2fe5b9;confirm(_0x5cf35d(0x1bc))&&window[_0x5cf35d(0x159)]();}document['addEventListener'](a0_0x2fe5b9(0x1ef),function(){crearMenuHTML();});