const a0_0x4a5022=a0_0x3908;(function(_0x5b9bb5,_0x1253b4){const _0x2bda41=a0_0x3908,_0x27e2a8=_0x5b9bb5();while(!![]){try{const _0x48bd0d=parseInt(_0x2bda41(0x139))/0x1*(parseInt(_0x2bda41(0xe7))/0x2)+parseInt(_0x2bda41(0x105))/0x3*(parseInt(_0x2bda41(0xd0))/0x4)+-parseInt(_0x2bda41(0x124))/0x5*(-parseInt(_0x2bda41(0x128))/0x6)+-parseInt(_0x2bda41(0xbd))/0x7*(parseInt(_0x2bda41(0x132))/0x8)+parseInt(_0x2bda41(0xe0))/0x9+parseInt(_0x2bda41(0x82))/0xa+-parseInt(_0x2bda41(0x111))/0xb;if(_0x48bd0d===_0x1253b4)break;else _0x27e2a8['push'](_0x27e2a8['shift']());}catch(_0x243824){_0x27e2a8['push'](_0x27e2a8['shift']());}}}(a0_0x5775,0xd5655));function crearMenuHTML(){const _0x5af109=a0_0x3908;let _0x16a2f9=_0x5af109(0x13a);document[_0x5af109(0x9d)][_0x5af109(0xd6)](_0x5af109(0xc3),_0x16a2f9),setTimeout(function(){const _0xb5cbd7=_0x5af109,_0x5e9632=document['querySelector'](_0xb5cbd7(0x12e));if(_0x5e9632){const _0x575f7c=document[_0xb5cbd7(0x134)](_0xb5cbd7(0x97))[_0xb5cbd7(0x13c)];_0x5e9632[_0xb5cbd7(0x142)][_0xb5cbd7(0x8e)]=_0xb5cbd7(0xb8),_0x5e9632[_0xb5cbd7(0x142)][_0xb5cbd7(0x85)]=_0x575f7c+'px',_0x5e9632['style'][_0xb5cbd7(0x133)]='0',_0x5e9632[_0xb5cbd7(0x142)][_0xb5cbd7(0x9c)]='0',_0x5e9632['style']['padding']='0',_0x5e9632[_0xb5cbd7(0x142)][_0xb5cbd7(0xba)]=_0xb5cbd7(0x75);const _0x47055d=window['innerHeight']-_0x575f7c;_0x5e9632['height']=_0x47055d,_0x5e9632['style'][_0xb5cbd7(0x12a)]=_0x47055d+'px',typeof resizeCanvas===_0xb5cbd7(0x135)&&resizeCanvas(_0x5e9632[_0xb5cbd7(0x78)],_0x47055d);}},0x32);}function toggleMenu(_0x353b42){const _0x2199b0=a0_0x3908,_0x31fba4=document[_0x2199b0(0x134)](_0x353b42);_0x31fba4[_0x2199b0(0x142)][_0x2199b0(0x12c)]=_0x31fba4[_0x2199b0(0x142)][_0x2199b0(0x12c)]===_0x2199b0(0x9f)?'none':_0x2199b0(0x9f),_0x353b42===_0x2199b0(0x119)?document['getElementById']('config-menu')['style']['display']=_0x2199b0(0x75):document[_0x2199b0(0x134)](_0x2199b0(0x119))[_0x2199b0(0x142)][_0x2199b0(0x12c)]=_0x2199b0(0x75);}function a0_0x5775(){const _0x30e412=['then','trim','ERROR\x20AL\x20CARGAR\x20EL\x20TAPETE:\x20','<red>','length','tagName','Conector','20VuqUIV','result','nombre','config-menu','parsererror','Error\x20obteniendo\x20coordenadas\x20para','insertAdjacentHTML','<Jumper><x>','onchange','conectado','<GPIO><conector>','querySelectorAll','adopt_point','calculoDimensiones','nombre-archivo','actualizarCoordenadas','3799512vtzvOr','red','<?xml\x20version=\x221.0\x22\x20encoding=\x22UTF-8\x22?>','elementoConectado','VariableBlock','</attach_point>','anguloInicio','886kDjrzW','<Canva>','warn','index','tipoDato',':scope\x20>\x20attach_point','conectorGPIO','textContent','GPIO','num','</red>','includes','target','</green>','¿Desea\x20también\x20guardar\x20el\x20archivo\x20Crumble?','catch','</conector></Elemento>','WhenRunBlock','</y><angulo>','</conector></GPIO>','<WhenRunBlock><x>','indexOf','anterior','siguiente','dato','texto','Tapete\x20eliminado','Sin_titulo','download','<Conector><x>','311307mhFsuS','¿Desea\x20también\x20abrir\x20el\x20archivo\x20Crumble\x20asociado?\x0a','Ultrasonido','Posiciones\x20guardadas','from','readAsText',':scope\x20>\x20adopt_point','</Variables>','<blue>','blue','<Ultrasonido><conectado>','indiceLISTA','25873496IoVkrE','ancho','</WhenRunBlock>','subBloque','Nombre\x20del\x20archivo:','data:text/plain;charset=utf-8,','<Variable>','alto','archivo-menu','AxTexto','<GPIOs>','<Variables>','<Conectores>','angle','IfElseBlock','</elementoConectado></Conector>','</blue>','</angulo></Crumblebot>','green','5bExDEV','</x><y>','onload','getElementsByTagName','10253832PPMeyo','Jumpers','height','accept','display','<VariableBlock>','canvas','href','querySelector','name','2773168SbIJaQ','left','getElementById','function','<Obstaculo><x>','bucleSiguiente','yInicio','577LuWQTN','\x0a\x20\x20\x20\x20<div\x20id=\x22menu-bar\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20position:\x20fixed;\x0a\x20\x20\x20\x20\x20\x20top:\x200;\x0a\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20width:\x20100%;\x0a\x20\x20\x20\x20\x20\x20background:\x20#2c3e50;\x0a\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20padding:\x207px;\x0a\x20\x20\x20\x20\x20\x20z-index:\x201000;\x0a\x20\x20\x20\x20\x20\x20font-family:\x20Arial,\x20sans-serif;\x0a\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20<span\x20style=\x22margin-right:\x2020px;\x20font-weight:\x20bold;\x22>Az-zait</span>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20inline-block;\x20position:\x20relative;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleMenu(\x27archivo-menu\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>Archivo</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22archivo-menu\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x20150px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x202px\x202px\x205px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22nuevoArchivo()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Nuevo</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22abrirArchivoAza()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Abrir\x20escenario</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarArchivoAza()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20escenario</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22margin:\x205px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22abrirArchivoCrumble()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Abrir\x20código</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarArchivoCrumble()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20código</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<hr\x20style=\x22margin:\x205px\x200;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22window.close()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Salir</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22display:\x20inline-block;\x20position:\x20relative;\x20margin-left:\x2010px;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<button\x20onclick=\x22toggleMenu(\x27config-menu\x27)\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x205px\x2010px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>Configuración</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<div\x20id=\x22config-menu\x22\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20white;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20#ccc;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20min-width:\x20150px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x202px\x202px\x205px\x20rgba(0,0,0,0.2);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22guardarPosiciones()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Guardar\x20posiciones</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22cargarTapete()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Cargar\x20tapete</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20onclick=\x22eliminarTapete()\x22\x20style=\x22padding:\x208px;\x20cursor:\x20pointer;\x20color:\x20black;\x22>Eliminar\x20tapete</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20<div\x20style=\x22\x0a\x20\x20\x20\x20\x20\x20\x20\x20float:\x20right;\x0a\x20\x20\x20\x20\x20\x20\x20\x20max-width:\x20250px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin-right:\x2015px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20white-space:\x20nowrap;\x0a\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20text-overflow:\x20ellipsis;\x0a\x20\x20\x20\x20\x20\x20\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20<span\x20id=\x22nombre-archivo\x22\x20style=\x22font-style:\x20italic;\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Sin_titulo\x0a\x20\x20\x20\x20\x20\x20\x20\x20</span>\x0a\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x0a\x20\x20\x20\x20<style>\x0a\x20\x20\x20\x20\x20\x20/*\x20ESTILOS\x20PARA\x20ELIMINAR\x20MÁRGENES\x20DEL\x20BODY\x20Y\x20CANVAS\x20*/\x0a\x20\x20\x20\x20\x20\x20body\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x0a\x20\x20\x20\x20\x20\x20canvas\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20block;\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20absolute;\x0a\x20\x20\x20\x20\x20\x20\x20\x20top:\x2050px;\x20/*\x20Altura\x20exacta\x20del\x20menú\x20*/\x0a\x20\x20\x20\x20\x20\x20\x20\x20left:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20margin:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none\x20!important;\x0a\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20</style>\x0a\x20\x20','splice','offsetHeight','conectorElemento','Elemento','variablePadre','eliminar','conector','style','push','addEventListener','createElement','endsWith','none','Variable','estatico','width','<Jumpers>','DOMContentLoaded','children','<adopt_point\x20index=\x221\x22>','<green>','Nombre\x20del\x20archivo:\x20Sin_Titulo','</Elementos>','<Elemento><conector>','</Canvas>','17071930gtogTF','conditional','Error\x20en\x20el\x20XML:\x20','top','</y>','appendChild','parseFromString','</conectado></Ultrasonido>','</GPIOs>','replace','.crm','¿Está\x20seguro\x20de\x20que\x20desea\x20salir?','position','Body','AxDato','text/xml','<Elementos>','<CrumbleDocument\x20version=\x221.5.8\x22\x20language=\x22english\x22>','Error\x20al\x20abrir\x20archivo\x20Crumble:','padre','Error\x20al\x20abrir\x20archivo:','menu-bar','</gpioConectado><elementoConectado>','Obstaculo','count','parentElement','margin','body','xInicio','block','setAttribute','<adopt_point\x20index=\x220\x22>','getAttribute','message','setPosition','ElseBlock','</Obstaculos>','</adopt_point>','Tapete','click','<Canvas>','file','Canvas','Archivo\x20guardado\x20exitosamente:\x0a','ultrasonidosConectado','true','close','</ancho><alto>','colour','Error\x20al\x20clonar\x20XML:','Error\x20al\x20abrir\x20el\x20archivo\x20Crumble.\x20Formato\x20incorrecto.\x0a','Error\x20añadiendo\x20sub-bloque:','error','angulo','absolute','valorNumerico','border','</y></Jumper>','<attach_point\x20index=\x220\x22>','28fwCVJK','bucle','time','gpioConectado','files','type','afterbegin','</Conectores>','potMotor','input','removeChild','.aza'];a0_0x5775=function(){return _0x30e412;};return a0_0x5775();}document['addEventListener']('click',function(_0x53745b){const _0x50c701=a0_0x3908;!_0x53745b[_0x50c701(0xf3)]['closest']('button')&&(document[_0x50c701(0x134)]('archivo-menu')[_0x50c701(0x142)][_0x50c701(0x12c)]=_0x50c701(0x75),document[_0x50c701(0x134)](_0x50c701(0xd3))[_0x50c701(0x142)][_0x50c701(0x12c)]=_0x50c701(0x75));});let ultimoArchivoAza=null,ultimoArchivoCrm=null;function guardarPosiciones(){const _0x16a978=a0_0x3908;robotFisico['xInicio']=robotFisico[_0x16a978(0x9d)][_0x16a978(0x8e)]['x'],robotFisico[_0x16a978(0x138)]=robotFisico['body'][_0x16a978(0x8e)]['y'],robotFisico['anguloInicio']=robotFisico[_0x16a978(0x9d)][_0x16a978(0x11e)],obstaculoInicio=[];for(let _0x1068c5=0x0;_0x1068c5<obstaculo['length'];_0x1068c5++){let _0x3ab208=obstaculo[_0x1068c5];obstaculoInicio[_0x16a978(0x71)](new ObstaculoInicio(_0x3ab208[_0x16a978(0x9d)][_0x16a978(0x8e)]['x'],_0x3ab208[_0x16a978(0x9d)][_0x16a978(0x8e)]['y'],_0x3ab208['ancho'],_0x3ab208['alto'],_0x3ab208[_0x16a978(0x9d)]['angle'],_0x3ab208[_0x16a978(0x77)]));}alert(_0x16a978(0x108));}function nuevoArchivo(){const _0x217380=a0_0x3908;if(confirm('¿Está\x20seguro\x20de\x20que\x20desea\x20crear\x20un\x20nuevo\x20archivo?\x20Se\x20perderán\x20los\x20cambios\x20no\x20guardados.')){eliminarConfiguracion(),eliminarCrumble();for(let _0x1e2248=0x0;_0x1e2248<0x7;_0x1e2248++){crearVariable(String['fromCharCode'](0x74+_0x1e2248));}document[_0x217380(0x134)]('nombre-archivo')[_0x217380(0xee)]=_0x217380(0x102),ultimoArchivoAza=null,ultimoArchivoCrm=null;}}function abrirArchivoAza(){const _0x238aea=a0_0x3908,_0x5c4f64=document[_0x238aea(0x73)](_0x238aea(0xc6));_0x5c4f64[_0x238aea(0xc2)]=_0x238aea(0xab),_0x5c4f64['accept']='.aza',_0x5c4f64['onchange']=function(_0x31f70d){const _0x5528ce=_0x238aea,_0xcfc6b7=_0x31f70d['target'][_0x5528ce(0xc1)][0x0];if(!_0xcfc6b7)return;ultimoArchivoAza=_0xcfc6b7[_0x5528ce(0x131)];const _0xcc25ba=_0xcfc6b7[_0x5528ce(0x131)]['replace'](_0x5528ce(0xc8),_0x5528ce(0x8c)),_0x141cac=new FileReader();_0x141cac['onload']=function(_0x577f03){const _0x3198a9=_0x5528ce,_0x1c8c46=_0x577f03['target'][_0x3198a9(0xd1)];fetch(_0xcc25ba)[_0x3198a9(0xc9)](_0x3af4ef=>{const _0x50c8b8=_0x3198a9;_0x3af4ef['ok']&&(confirm(_0x50c8b8(0x106)+_0xcc25ba)&&(ultimoArchivoCrm=_0xcc25ba,abrirArchivoCrumble(_0xcc25ba))),abrirArchivoDesdeContenido(_0x1c8c46),document['getElementById'](_0x50c8b8(0xde))['textContent']=_0xcfc6b7[_0x50c8b8(0x131)]['replace'](/\.[^/.]+$/,'');})[_0x3198a9(0xf6)](()=>{const _0x197423=_0x3198a9;abrirArchivoDesdeContenido(_0x1c8c46),document[_0x197423(0x134)](_0x197423(0xde))['textContent']=_0xcfc6b7[_0x197423(0x131)]['replace'](/\.[^/.]+$/,'');});},_0x141cac[_0x5528ce(0x10a)](_0xcfc6b7);},_0x5c4f64[_0x238aea(0xa9)]();}function guardarArchivoAza(){const _0x10d4ce=a0_0x3908;let _0x14954e;if(ultimoArchivoAza)_0x14954e=prompt(_0x10d4ce(0x115),ultimoArchivoAza);else ultimoArchivoCrm?_0x14954e=prompt(_0x10d4ce(0x115),ultimoArchivoCrm):_0x14954e=prompt(_0x10d4ce(0x7e));if(!_0x14954e)return;_0x14954e=_0x14954e[_0x10d4ce(0x8b)](/\.[^/.]+$/,'')+_0x10d4ce(0xc8);!_0x14954e[_0x10d4ce(0x74)](_0x10d4ce(0xc8))&&(_0x14954e+=_0x10d4ce(0xc8));ultimoArchivoAza=_0x14954e;const _0x491779=generarArchivo();let _0x42fb3d=ultimoArchivoAza;const _0x275d36=document[_0x10d4ce(0x73)]('a');_0x275d36[_0x10d4ce(0xa0)](_0x10d4ce(0x12f),_0x10d4ce(0x116)+encodeURIComponent(_0x491779)),_0x275d36[_0x10d4ce(0xa0)](_0x10d4ce(0x103),_0x42fb3d),_0x275d36[_0x10d4ce(0x142)][_0x10d4ce(0x12c)]='none',document[_0x10d4ce(0x9d)][_0x10d4ce(0x87)](_0x275d36),_0x275d36[_0x10d4ce(0xa9)](),document['body'][_0x10d4ce(0xc7)](_0x275d36),ultimoArchivoAza=_0x42fb3d,document['getElementById'](_0x10d4ce(0xde))[_0x10d4ce(0xee)]=_0x42fb3d[_0x10d4ce(0x8b)](/\.[^/.]+$/,''),alert(_0x10d4ce(0xad)+_0x42fb3d),confirm(_0x10d4ce(0xf5))&&guardarArchivoCrumble();}function abrirArchivoCrumble(){const _0x5efc0b=a0_0x3908,_0x444906=document[_0x5efc0b(0x73)](_0x5efc0b(0xc6));_0x444906[_0x5efc0b(0xc2)]='file',_0x444906[_0x5efc0b(0x12b)]='.crm',_0x444906[_0x5efc0b(0xd8)]=function(_0x406df3){const _0x268d64=_0x5efc0b,_0x270734=_0x406df3['target'][_0x268d64(0xc1)][0x0];if(!_0x270734)return;ultimoArchivoCrm=_0x270734[_0x268d64(0x131)];const _0x126e43=new FileReader();_0x126e43[_0x268d64(0x126)]=function(_0x1d8c2c){const _0xd8aa52=_0x268d64,_0x31a529=_0x1d8c2c['target']['result'];abrirArchivoCrumbleDesdeContenido(_0x31a529),nombre=nombre[_0xd8aa52(0x8b)](/\.[^/.]+$/,'')+_0xd8aa52(0xc8),document[_0xd8aa52(0x134)](_0xd8aa52(0xde))[_0xd8aa52(0xee)]=_0x270734[_0xd8aa52(0x131)]['replace'](/\.[^/.]+$/,'');},_0x126e43[_0x268d64(0x10a)](_0x270734);},_0x444906[_0x5efc0b(0xa9)]();}function guardarArchivoCrumble(){const _0x594778=a0_0x3908;let _0x6f213e;if(ultimoArchivoCrm)_0x6f213e=prompt(_0x594778(0x115),ultimoArchivoCrm);else ultimoArchivoAza?_0x6f213e=prompt(_0x594778(0x115),ultimoArchivoAza):_0x6f213e=prompt(_0x594778(0x7e));if(!_0x6f213e)return;_0x6f213e=_0x6f213e[_0x594778(0x8b)](/\.[^/.]+$/,'')+_0x594778(0x8c);!_0x6f213e['endsWith']('.crm')&&(_0x6f213e+=_0x594778(0x8c));ultimoArchivoCrm=_0x6f213e;const _0x3c0517=generarArchivoCrumble();let _0x260254=ultimoArchivoCrm;const _0x22bb10=document[_0x594778(0x73)]('a');_0x22bb10[_0x594778(0xa0)](_0x594778(0x12f),_0x594778(0x116)+encodeURIComponent(_0x3c0517)),_0x22bb10[_0x594778(0xa0)](_0x594778(0x103),_0x260254),_0x22bb10[_0x594778(0x142)][_0x594778(0x12c)]=_0x594778(0x75),document[_0x594778(0x9d)][_0x594778(0x87)](_0x22bb10),_0x22bb10[_0x594778(0xa9)](),document['body'][_0x594778(0xc7)](_0x22bb10),ultimoArchivoCrm=_0x260254,document[_0x594778(0x134)](_0x594778(0xde))[_0x594778(0xee)]=_0x260254[_0x594778(0x8b)](/\.[^/.]+$/,''),alert('Archivo\x20guardado\x20exitosamente:\x0a'+_0x260254);}function generarArchivo(){const _0x3081cf=a0_0x3908;let _0x3efa09=_0x3081cf(0xe8);_0x3efa09+='<Crumblebot><x>'+robotFisico[_0x3081cf(0x9e)]+_0x3081cf(0x125)+robotFisico['yInicio']+_0x3081cf(0xf9)+robotFisico['anguloInicio']+_0x3081cf(0x122);nombreFondo!=null&&(_0x3efa09+='<Tapete><file>'+nombreFondo+'</file></Tapete>');_0x3efa09+=_0x3081cf(0x10f)+robot['ultrasonidosConectado']+_0x3081cf(0x89),_0x3efa09+=_0x3081cf(0x79);for(let _0xa44769 of jumpers){_0x3efa09+=_0x3081cf(0xd7)+_0xa44769['x']+_0x3081cf(0x125)+_0xa44769['y']+_0x3081cf(0xbb);}_0x3efa09+='</Jumpers>',_0x3efa09+=_0x3081cf(0x11d);for(let _0x2f8c11 of conector){const _0x4f73ac=gpio[_0x3081cf(0xfc)](_0x2f8c11['gpioConectado']),_0x3fedd3=elemento[_0x3081cf(0xfc)](_0x2f8c11[_0x3081cf(0xe3)]);_0x3efa09+=_0x3081cf(0x104)+_0x2f8c11['x']+'</x><y>'+_0x2f8c11['y']+'</y><gpioConectado>'+_0x4f73ac+_0x3081cf(0x98)+_0x3fedd3+_0x3081cf(0x120);}_0x3efa09+=_0x3081cf(0xc4),_0x3efa09+=_0x3081cf(0x11b);for(let _0xeea3cf of gpio){const _0x2de16e=conector['indexOf'](_0xeea3cf[_0x3081cf(0xed)]);_0x3efa09+=_0x3081cf(0xda)+_0x2de16e+_0x3081cf(0xfa);}_0x3efa09+=_0x3081cf(0x8a),_0x3efa09+=_0x3081cf(0x92);for(let _0x305e31 of elemento){const _0x78c182=conector['indexOf'](_0x305e31[_0x3081cf(0x13d)]);_0x3efa09+=_0x3081cf(0x80)+_0x78c182+_0x3081cf(0xf7);}_0x3efa09+=_0x3081cf(0x7f);if(obstaculoInicio[_0x3081cf(0xcd)]>0x0){_0x3efa09+='<Obstaculos>';for(let _0x7bab66 of obstaculoInicio){_0x3efa09+=_0x3081cf(0x136)+_0x7bab66['x']+'</x><y>'+_0x7bab66['y']+'</y><ancho>'+_0x7bab66[_0x3081cf(0x112)]+_0x3081cf(0xb1)+_0x7bab66[_0x3081cf(0x118)]+'</alto><angulo>'+_0x7bab66[_0x3081cf(0xb7)]+'</angulo><estatico>'+_0x7bab66['estatico']+'</estatico></Obstaculo>';}_0x3efa09+=_0x3081cf(0xa6);}return _0x3efa09+='</Canva>',_0x3efa09;}function generarArchivoCrumble(){const _0x22b6aa=a0_0x3908;let _0xcdc0c7=_0x22b6aa(0xe2);_0xcdc0c7+=_0x22b6aa(0x93),_0xcdc0c7+=_0x22b6aa(0x11c);for(let _0x10b7f2 of codigoVariables){_0xcdc0c7+=_0x22b6aa(0x117)+_0x10b7f2[_0x22b6aa(0x100)][0x0]+'</Variable>';}_0xcdc0c7+=_0x22b6aa(0x10c),_0xcdc0c7+=_0x22b6aa(0xaa);if(bloquesStart!=null)for(let _0x26434f of bloquesStart){_0xcdc0c7+=_0x22b6aa(0xfb)+int(_0x26434f['x']+width/0x2)+'</x><y>'+int(_0x26434f['y']+height/0x2)+_0x22b6aa(0x86),_0x26434f[_0x22b6aa(0xfe)]!=null&&(_0xcdc0c7+=_0x22b6aa(0xbc),_0xcdc0c7+=generarBloqueXML(_0x26434f['siguiente'],![]),_0xcdc0c7+=_0x22b6aa(0xe5)),_0xcdc0c7+=_0x22b6aa(0x113);}for(let _0xeda450 of codigo){!_0xeda450[_0x22b6aa(0xd2)]==_0x22b6aa(0xf8)&&_0xeda450['anterior']==null&&_0xeda450[_0x22b6aa(0x95)]==null&&(_0xcdc0c7+=generarBloqueXML(_0xeda450,!![]));}return _0xcdc0c7+=_0x22b6aa(0x81),_0xcdc0c7+='</CrumbleDocument>',_0xcdc0c7;}function generarBloqueXML(_0x389373,_0x41b71b){const _0x52fe5d=a0_0x3908;if(_0x389373==null)return'';if(_0x389373[_0x52fe5d(0xd2)]==_0x52fe5d(0xa5))return'';if(_0x389373[_0x52fe5d(0x13f)]!=null)return _0x52fe5d(0x12d)+_0x389373[_0x52fe5d(0x100)][0x0]+'</VariableBlock>';const _0x562c01=obtenerInfoBloqueCrumble(_0x389373['nombre']);if(_0x562c01==null)return'';let _0x4f7ecd='';_0x41b71b?_0x4f7ecd+='<'+_0x389373[_0x52fe5d(0xd2)]+'><x>'+int(_0x389373['x']+width/0x2)+_0x52fe5d(0x125)+int(_0x389373['y']+height/0x2)+_0x52fe5d(0x86):_0x4f7ecd+='<'+_0x389373[_0x52fe5d(0xd2)]+'>';for(let _0x394ae5=0x1;_0x394ae5<_0x562c01['length'];_0x394ae5++){const _0x59203a=_0x562c01[_0x394ae5];if(_0x59203a!=''){const _0x332259=_0x389373[_0x52fe5d(0x114)]!=null&&_0x394ae5-0x1<_0x389373[_0x52fe5d(0x114)][_0x52fe5d(0xcd)]&&_0x389373[_0x52fe5d(0x114)][_0x394ae5-0x1]!=null,_0x39b8d4=_0x59203a==_0x52fe5d(0x83);_0x4f7ecd+='<'+_0x59203a+'>';if(_0x332259)_0x39b8d4?(_0x4f7ecd+=_0x52fe5d(0xa1),_0x4f7ecd+=generarBloqueXML(_0x389373[_0x52fe5d(0x114)][_0x394ae5-0x1],![]),_0x4f7ecd+=_0x52fe5d(0xa7)):(_0x389373['dato']!=null&&_0x394ae5-0x1<_0x389373[_0x52fe5d(0xff)][_0x52fe5d(0xcd)]&&_0x389373[_0x52fe5d(0xff)][_0x394ae5-0x1]!=null&&(_0x4f7ecd+=_0x389373['dato'][_0x394ae5-0x1]),_0x4f7ecd+=_0x52fe5d(0xa1),_0x4f7ecd+=generarBloqueXML(_0x389373['subBloque'][_0x394ae5-0x1],![]),_0x4f7ecd+=_0x52fe5d(0xa7));else{if(_0x389373['dato']!=null&&_0x394ae5-0x1<_0x389373[_0x52fe5d(0xff)][_0x52fe5d(0xcd)]&&_0x389373[_0x52fe5d(0xff)][_0x394ae5-0x1]!=null){if(_0x59203a==_0x52fe5d(0xb2)){const _0x383ac0=color(_0x389373[_0x52fe5d(0xff)][_0x394ae5-0x1]);_0x4f7ecd+=_0x52fe5d(0xcc)+int(red(_0x383ac0))+_0x52fe5d(0xf1),_0x4f7ecd+=_0x52fe5d(0x7d)+int(green(_0x383ac0))+_0x52fe5d(0xf4),_0x4f7ecd+=_0x52fe5d(0x10d)+int(blue(_0x383ac0))+_0x52fe5d(0x121);}else _0x4f7ecd+=_0x389373[_0x52fe5d(0xff)][_0x394ae5-0x1];}else _0x39b8d4&&(_0x4f7ecd+='/');}_0x4f7ecd+='</'+_0x59203a+'>';}}if(_0x389373[_0x52fe5d(0xd2)]==_0x52fe5d(0x11f)){if(_0x389373[_0x52fe5d(0xbe)]&&_0x389373[_0x52fe5d(0x137)]!=null){_0x4f7ecd+=_0x52fe5d(0xa1);let _0x4d15fa=_0x389373[_0x52fe5d(0x137)];while(_0x4d15fa!=null&&_0x4d15fa[_0x52fe5d(0xd2)]!=_0x52fe5d(0xa5)){_0x4f7ecd+=generarBloqueXML(_0x4d15fa,![]),_0x4d15fa=_0x4d15fa[_0x52fe5d(0xfe)];}_0x4f7ecd+=_0x52fe5d(0xa7);}if(_0x389373[_0x52fe5d(0xfe)]!=null&&_0x389373[_0x52fe5d(0xfe)][_0x52fe5d(0xd2)]=='ElseBlock'){const _0x22aa78=_0x389373['siguiente'];if(_0x22aa78[_0x52fe5d(0x137)]!=null){_0x4f7ecd+=_0x52fe5d(0x7c);let _0x2c9659=_0x22aa78[_0x52fe5d(0x137)];while(_0x2c9659!=null){_0x4f7ecd+=generarBloqueXML(_0x2c9659,![]),_0x2c9659=_0x2c9659[_0x52fe5d(0xfe)];}_0x4f7ecd+='</adopt_point>';}_0x389373['siguiente'][_0x52fe5d(0xfe)]!=null&&(_0x4f7ecd+=_0x52fe5d(0xbc),_0x4f7ecd+=generarBloqueXML(_0x389373['siguiente'][_0x52fe5d(0xfe)],![]),_0x4f7ecd+=_0x52fe5d(0xe5));}}else{if(_0x389373[_0x52fe5d(0xbe)]&&_0x389373[_0x52fe5d(0x137)]!=null){_0x4f7ecd+=_0x52fe5d(0xa1);let _0x59e972=_0x389373[_0x52fe5d(0x137)];while(_0x59e972!=null){_0x4f7ecd+=generarBloqueXML(_0x59e972,![]),_0x59e972=_0x59e972[_0x52fe5d(0xfe)];}_0x4f7ecd+=_0x52fe5d(0xa7);}}return _0x389373['siguiente']!=null&&_0x389373[_0x52fe5d(0xfe)][_0x52fe5d(0xd2)]!=_0x52fe5d(0xa5)&&(_0x4f7ecd+=_0x52fe5d(0xbc),_0x4f7ecd+=generarBloqueXML(_0x389373[_0x52fe5d(0xfe)],![]),_0x4f7ecd+='</attach_point>'),_0x4f7ecd+='</'+_0x389373['nombre']+'>',_0x4f7ecd;}function obtenerInfoBloqueCrumble(_0x3839ee){const _0x1d160b=a0_0x3908;for(let _0x4e3f48=0x0;_0x4e3f48<NOTACION_CRUMBLE[_0x1d160b(0xcd)];_0x4e3f48++){for(let _0x55a4b9=0x0;_0x55a4b9<NOTACION_CRUMBLE[_0x4e3f48][_0x1d160b(0xcd)];_0x55a4b9++){if(NOTACION_CRUMBLE[_0x4e3f48][_0x55a4b9][0x0]==_0x3839ee)return NOTACION_CRUMBLE[_0x4e3f48][_0x55a4b9];}}return null;}function eliminarConfiguracion(){const _0x4f1516=a0_0x3908;ledsActivos=0x0,esperarUnCiclo=![],saltoIfElse=![],miliSegundos=0x0,Crono=0x0,Distancia=0x0,offsetX=0x0,offsetY=0x0,panSimulacionX=0x0,panSimulacionY=0x0,panCodigoX=0x0,panCodigoY=0x0,robotFisico[_0x4f1516(0x9e)]=0x0,robotFisico[_0x4f1516(0x138)]=0x0,Matter[_0x4f1516(0x8f)]['setPosition'](robotFisico[_0x4f1516(0x9d)],{'x':0x0,'y':0x0}),robotFisico[_0x4f1516(0x9d)][_0x4f1516(0x11e)]=0x0,robotFisico[_0x4f1516(0xc5)][0x0]=0x0,robotFisico[_0x4f1516(0xc5)][0x1]=0x0,robot[_0x4f1516(0xae)]=![],fondo=null;for(let _0x48bc4c=0x0;_0x48bc4c<0x4;_0x48bc4c++){for(let _0x120d08=0x0;_0x120d08<0x2;_0x120d08++){conector[_0x48bc4c*0x2+_0x120d08]['x']=ANCHO_ROBOT/0x2+0xa+_0x48bc4c*0x32+_0x120d08*0x16,conector[_0x48bc4c*0x2+_0x120d08]['y']=0x32-ALTO_ROBOT/0x2,conector[_0x48bc4c*0x2+_0x120d08]['gpioConectado']=null,conector[_0x48bc4c*0x2+_0x120d08][_0x4f1516(0xe3)]=null;}}for(let _0x1da9d7=0x0;_0x1da9d7<0x4;_0x1da9d7++){for(let _0x417242=0x0;_0x417242<0x2;_0x417242++){conector[0x8+_0x1da9d7*0x2+_0x417242]['x']=-0x15e+_0x417242*0x32,conector[0x8+_0x1da9d7*0x2+_0x417242]['y']=-0x96+_0x1da9d7*0x4b,conector[0x8+_0x1da9d7*0x2+_0x417242][_0x4f1516(0xc0)]=null,conector[0x8+_0x1da9d7*0x2+_0x417242]['elementoConectado']=null;}}for(let _0x312c7c=0x0;_0x312c7c<0x4;_0x312c7c++){jumpers[_0x312c7c]['x']=ANCHO_ROBOT/0x2+0xa+_0x312c7c*0x32,jumpers[_0x312c7c]['y']=0x32-ALTO_ROBOT/0x2;}for(let _0x1642ed=0x0;_0x1642ed<conectorGPIO[_0x4f1516(0xcd)];_0x1642ed++){gpio[_0x1642ed][_0x4f1516(0xed)]=null,elemento[_0x1642ed][_0x4f1516(0x13d)]=null;}for(let _0xaf6c7=obstaculo[_0x4f1516(0xcd)]-0x1;_0xaf6c7>=0x0;_0xaf6c7--){obstaculo[_0xaf6c7][_0x4f1516(0x140)]();}obstaculo=[],obstaculoSeleccionado=null,obstaculoInicio=[];for(let _0x270029=0x0;_0x270029<0x10;_0x270029++)customColor[_0x270029]=color(0xff);for(let _0x142add=0x0;_0x142add<0x8;_0x142add++)colorLED[_0x142add]=color(0x0);}function abrirArchivoDesdeContenido(_0x23e257){const _0x4e12ac=a0_0x3908;eliminarConfiguracion();try{const _0xd90fb8=new DOMParser(),_0x454cad=_0xd90fb8[_0x4e12ac(0x88)](_0x23e257,_0x4e12ac(0x91)),_0x44c4e9=_0x454cad[_0x4e12ac(0x127)]('x')[0x0][_0x4e12ac(0xee)],_0x353f05=_0x454cad['getElementsByTagName']('y')[0x0][_0x4e12ac(0xee)],_0x3182c3=_0x454cad[_0x4e12ac(0x127)](_0x4e12ac(0xb7))[0x0][_0x4e12ac(0xee)];robotFisico[_0x4e12ac(0x9e)]=_0x44c4e9,robotFisico[_0x4e12ac(0x138)]=_0x353f05,robotFisico[_0x4e12ac(0xe6)]=float(_0x3182c3),Matter[_0x4e12ac(0x8f)][_0x4e12ac(0xa4)](robotFisico['body'],{'x':robotFisico[_0x4e12ac(0x9e)],'y':robotFisico[_0x4e12ac(0x138)]}),robotFisico[_0x4e12ac(0x9d)]['angle']=robotFisico[_0x4e12ac(0xe6)];const _0x365b7b=_0x454cad[_0x4e12ac(0x127)](_0x4e12ac(0xa8));if(_0x365b7b[_0x4e12ac(0xcd)]>0x0){const _0x4f141c=_0x365b7b[0x0]['getElementsByTagName'](_0x4e12ac(0xab))[0x0][_0x4e12ac(0xee)];if(_0x4f141c!=null){nombreFondo=null;for(let _0x2d72c5=0x0;_0x2d72c5<archivosSVG[_0x4e12ac(0xcd)];_0x2d72c5++){if(_0x4f141c===archivosSVG[_0x2d72c5]){nombreFondo=_0x4f141c,console['log'](nombreFondo),cargarFondo();break;}}nombreFondo==null&&(inicioMensaje=millis(),mensaje=_0x4e12ac(0xcb)+_0x4f141c+'NO\x20SE\x20ENCUENTRA\x20EN\x20LA\x20CARPETA\x20ESCENARIOS');}}const _0x11556d=_0x454cad[_0x4e12ac(0x127)](_0x4e12ac(0x107));if(_0x11556d['length']>0x0){const _0x5938fc=_0x11556d[0x0][_0x4e12ac(0x127)](_0x4e12ac(0xd9))[0x0];_0x5938fc&&(robot['ultrasonidosConectado']=_0x5938fc['textContent']===_0x4e12ac(0xaf));}const _0x38226c=_0x454cad[_0x4e12ac(0x127)](_0x4e12ac(0x129));if(_0x38226c[_0x4e12ac(0xcd)]>0x0){const _0x1bdcef=_0x38226c[0x0][_0x4e12ac(0x127)]('Jumper');for(let _0x60d583=0x0;_0x60d583<_0x1bdcef['length']&&_0x60d583<jumpers['length'];_0x60d583++){const _0x35a764=_0x1bdcef[_0x60d583],_0x2b50ee=_0x35a764['getElementsByTagName']('x')[0x0],_0x8507ea=_0x35a764[_0x4e12ac(0x127)]('y')[0x0];_0x2b50ee&&_0x8507ea&&(jumpers[_0x60d583]['x']=parseInt(_0x2b50ee[_0x4e12ac(0xee)]),jumpers[_0x60d583]['y']=parseInt(_0x8507ea[_0x4e12ac(0xee)]));}}const _0x27ca6c=_0x454cad[_0x4e12ac(0x127)]('Conectores');if(_0x27ca6c[_0x4e12ac(0xcd)]>0x0){const _0x364449=_0x27ca6c[0x0][_0x4e12ac(0x127)](_0x4e12ac(0xcf));for(let _0x1d8e7c=0x0;_0x1d8e7c<_0x364449['length']&&_0x1d8e7c<conector[_0x4e12ac(0xcd)];_0x1d8e7c++){const _0x1d41ca=_0x364449[_0x1d8e7c],_0x80fcbe=_0x1d41ca['getElementsByTagName']('x')[0x0];if(_0x80fcbe)conector[_0x1d8e7c]['x']=parseInt(_0x80fcbe[_0x4e12ac(0xee)]);const _0x2579a6=_0x1d41ca[_0x4e12ac(0x127)]('y')[0x0];if(_0x2579a6)conector[_0x1d8e7c]['y']=parseInt(_0x2579a6[_0x4e12ac(0xee)]);const _0x5e3750=_0x1d41ca['getElementsByTagName']('gpioConectado')[0x0];if(_0x5e3750){const _0x5d8df8=parseInt(_0x5e3750[_0x4e12ac(0xee)]);conector[_0x1d8e7c][_0x4e12ac(0xc0)]=_0x5d8df8!==-0x1?gpio[_0x5d8df8]:null;}const _0x5e1147=_0x1d41ca[_0x4e12ac(0x127)](_0x4e12ac(0xe3))[0x0];if(_0x5e1147){const _0x385d49=parseInt(_0x5e1147['textContent']);conector[_0x1d8e7c][_0x4e12ac(0xe3)]=_0x385d49!==-0x1?elemento[_0x385d49]:null;}}}const _0x548835=_0x454cad[_0x4e12ac(0x127)]('GPIOs');if(_0x548835['length']>0x0){const _0x7230f6=_0x548835[0x0][_0x4e12ac(0x127)](_0x4e12ac(0xef));for(let _0x4e6b9f=0x0;_0x4e6b9f<_0x7230f6['length']&&_0x4e6b9f<gpio[_0x4e12ac(0xcd)];_0x4e6b9f++){const _0x3b863a=_0x7230f6[_0x4e6b9f],_0x35e5cf=_0x3b863a['getElementsByTagName'](_0x4e12ac(0x141))[0x0];if(_0x35e5cf){const _0x59589d=parseInt(_0x35e5cf['textContent']);gpio[_0x4e6b9f][_0x4e12ac(0xed)]=_0x59589d!==-0x1?conector[_0x59589d]:null;}}}const _0x1b12f1=_0x454cad[_0x4e12ac(0x127)]('Elementos');if(_0x1b12f1[_0x4e12ac(0xcd)]>0x0){const _0xce1810=_0x1b12f1[0x0]['getElementsByTagName'](_0x4e12ac(0x13e));for(let _0x2fee34=0x0;_0x2fee34<_0xce1810[_0x4e12ac(0xcd)]&&_0x2fee34<elemento[_0x4e12ac(0xcd)];_0x2fee34++){const _0x5dd975=_0xce1810[_0x2fee34],_0x41615e=_0x5dd975[_0x4e12ac(0x127)]('conector')[0x0];if(_0x41615e){const _0x8386cc=parseInt(_0x41615e[_0x4e12ac(0xee)]);elemento[_0x2fee34]['conectorElemento']=_0x8386cc!==-0x1?conector[_0x8386cc]:null;}}}const _0x5d9b45=_0x454cad['getElementsByTagName']('Obstaculos');if(_0x5d9b45[_0x4e12ac(0xcd)]>0x0){const _0x1884f6=_0x5d9b45[0x0][_0x4e12ac(0x127)](_0x4e12ac(0x99));for(let _0x168e5b=0x0;_0x168e5b<_0x1884f6[_0x4e12ac(0xcd)];_0x168e5b++){const _0x587592=_0x1884f6[_0x168e5b],_0x58ad8a=_0x587592['getElementsByTagName']('x')[0x0],_0x1f665b=_0x587592[_0x4e12ac(0x127)]('y')[0x0],_0x9d9cf3=_0x587592['getElementsByTagName'](_0x4e12ac(0x112))[0x0],_0x86932e=_0x587592[_0x4e12ac(0x127)](_0x4e12ac(0x118))[0x0],_0x111e7f=_0x587592['getElementsByTagName'](_0x4e12ac(0xb7))[0x0],_0x45f211=_0x587592[_0x4e12ac(0x127)](_0x4e12ac(0x77))[0x0],_0x48e58b=parseFloat(_0x58ad8a[_0x4e12ac(0xee)]),_0x5083c1=parseFloat(_0x1f665b[_0x4e12ac(0xee)]),_0x362a72=parseFloat(_0x9d9cf3[_0x4e12ac(0xee)]),_0x57c03d=parseFloat(_0x86932e[_0x4e12ac(0xee)]),_0x39a1e9=parseFloat(_0x111e7f[_0x4e12ac(0xee)]),_0xb83322=_0x45f211['textContent']===_0x4e12ac(0xaf),_0x1e53bd=new Obstaculo(_0x48e58b,_0x5083c1,_0x362a72,_0x57c03d,_0x39a1e9,_0xb83322);obstaculo['push'](_0x1e53bd);const _0x405749=new ObstaculoInicio(_0x48e58b,_0x5083c1,_0x362a72,_0x57c03d,_0x39a1e9,_0xb83322);obstaculoInicio[_0x4e12ac(0x71)](_0x405749);}}}catch(_0x1e88ba){console[_0x4e12ac(0xb6)](_0x4e12ac(0x96),_0x1e88ba),alert('Error\x20al\x20abrir\x20el\x20archivo.\x20Formato\x20incorrecto.');}}function abrirArchivoCrumbleDesdeContenido(_0x49fb98){const _0x203bc7=a0_0x3908;eliminarCrumble();try{const _0x268362=new DOMParser(),_0x4763ec=_0x268362[_0x203bc7(0x88)](_0x49fb98,_0x203bc7(0x91)),_0x6e8c38=_0x4763ec[_0x203bc7(0x130)](_0x203bc7(0xd4));if(_0x6e8c38)throw new Error(_0x203bc7(0x84)+_0x6e8c38['textContent']);const _0x23d2e3=_0x4763ec[_0x203bc7(0x127)](_0x203bc7(0x76));for(let _0x443450=0x0;_0x443450<_0x23d2e3['length'];_0x443450++){const _0x5d5619=_0x23d2e3[_0x443450][_0x203bc7(0xee)];_0x5d5619&&_0x5d5619[_0x203bc7(0xca)]()!==''&&crearVariable(_0x5d5619[_0x203bc7(0xca)]());}const _0x53e5ba=_0x4763ec['getElementsByTagName'](_0x203bc7(0xac))[0x0];if(_0x53e5ba){const _0xfa4d0b=Array['from'](_0x53e5ba[_0x203bc7(0x7b)]);for(let _0x3ecae6 of _0xfa4d0b){const _0x4aa22e=procesarBloque(_0x3ecae6,!![]);if(!_0x4aa22e)continue;_0x4aa22e['nombre']===_0x203bc7(0xf8)&&(bloquesStart[_0x203bc7(0x71)](_0x4aa22e),bloqueStartSeleccionado=_0x4aa22e),procesarConexiones(_0x3ecae6,_0x4aa22e);}}for(let _0x301daf of codigo){if(_0x301daf[_0x203bc7(0xbe)]===!![]&&_0x301daf['bucleSiguiente']!==null){let _0x554385=_0x301daf['bucleSiguiente'];_0x301daf['bucleSiguiente'][_0x203bc7(0x95)]=_0x301daf;while(_0x554385[_0x203bc7(0xfe)]!==null){_0x554385[_0x203bc7(0xfe)][_0x203bc7(0x95)]=_0x301daf,_0x554385=_0x554385[_0x203bc7(0xfe)];}}}for(let _0x5d66b5 of codigo){_0x5d66b5['calculoGrosorBucle']();_0x5d66b5['anterior']===null&&_0x5d66b5[_0x203bc7(0x95)]===null&&_0x5d66b5[_0x203bc7(0xdf)]();for(let _0x115de2=0x0;_0x115de2<_0x5d66b5[_0x203bc7(0x114)][_0x203bc7(0xcd)];_0x115de2++){_0x5d66b5[_0x203bc7(0x114)][_0x115de2]===null&&_0x5d66b5[_0x203bc7(0xeb)][_0x115de2]!=='*'&&(_0x5d66b5[_0x203bc7(0x90)][_0x115de2]=_0x5d66b5['calculoAnchoDato'](_0x5d66b5['dato'][_0x115de2]));if(_0x5d66b5[_0x203bc7(0xeb)][_0x115de2]>='0'&&_0x5d66b5[_0x203bc7(0xeb)][_0x115de2]<='6'){const _0xe83e3a=parseInt(_0x5d66b5['tipoDato'][_0x115de2]);for(let _0x30caff=0x0;_0x30caff<LISTA[_0xe83e3a][_0x203bc7(0xcd)];_0x30caff++){if(_0x5d66b5[_0x203bc7(0xff)][_0x115de2]===LISTA[_0xe83e3a][_0x30caff]){_0x5d66b5[_0x203bc7(0x110)][_0x115de2]=_0x30caff;break;}}}}_0x5d66b5[_0x203bc7(0xdd)]();}bloquesNoSeleccionados=[...codigo];bloqueStartSeleccionado!==null&&(bloqueEjecutando=bloqueStartSeleccionado);ejecutando=![];for(let _0x1446ef of codigoVariables){_0x1446ef[_0x203bc7(0xff)][0x0]='0',_0x1446ef[_0x203bc7(0xb9)]=0x0;}}catch(_0x39bcc6){console[_0x203bc7(0xb6)](_0x203bc7(0x94),_0x39bcc6),alert(_0x203bc7(0xb4)+_0x39bcc6[_0x203bc7(0xa3)]);}}function procesarBloque(_0x358b5b,_0x59a6d9){const _0xb70106=a0_0x3908,_0x39aefe=_0x358b5b[_0xb70106(0xce)];if(!_0x39aefe)return null;let _0x546698=0x0,_0x511b84=0x0;if(_0x59a6d9)try{const _0xdc4e26=_0x358b5b[_0xb70106(0x130)]('x'),_0x5e1574=_0x358b5b['querySelector']('y');_0xdc4e26&&_0x5e1574&&(_0x546698=parseInt(_0xdc4e26['textContent'])-width/0x2,_0x511b84=parseInt(_0x5e1574['textContent'])-height/0x2);}catch(_0x56eb31){console['warn'](_0xb70106(0xd5),_0x39aefe);}if(_0x39aefe===_0xb70106(0xe4)){const _0x1f6aec=_0x358b5b['textContent']['trim']();for(let _0x9b23ad of codigoVariables){if(_0x9b23ad[_0xb70106(0x100)][0x0]===_0x1f6aec){const _0x2c8b8d=new Bloque(_0x546698,_0x511b84,0x3,0x4,BOTON_VARIABLE,![],!![]);return _0x2c8b8d['texto'][0x0]=_0x9b23ad[_0xb70106(0x100)][0x0],_0x2c8b8d[_0xb70106(0x11a)][0x0]=_0x9b23ad[_0xb70106(0x11a)][0x0],_0x2c8b8d['variablePadre']=_0x9b23ad,codigo[_0xb70106(0x71)](_0x2c8b8d),cont++,_0x2c8b8d[_0xb70106(0xf0)]=cont,_0x2c8b8d;}}return null;}let _0x3427b4=-0x1,_0x16955e=-0x1;for(let _0x1672cd=0x0;_0x1672cd<t[_0xb70106(0xcd)];_0x1672cd++){for(let _0x45277f=0x0;_0x45277f<t[_0x1672cd][_0xb70106(0xcd)];_0x45277f++){if(t[_0x1672cd][_0x45277f][0x0]===_0x39aefe){_0x3427b4=_0x1672cd,_0x16955e=_0x45277f;break;}}if(_0x3427b4!==-0x1)break;}if(_0x3427b4===-0x1)return null;const _0x354328=new Bloque(_0x546698,_0x511b84,_0x3427b4,_0x16955e,t[_0x3427b4][_0x16955e],![],!![]);codigo[_0xb70106(0x71)](_0x354328),cont++,_0x354328[_0xb70106(0xf0)]=cont;const _0x16cddd=obtenerInfoBloqueCrumble(_0x39aefe);if(_0x16cddd)for(let _0x4cc11b=0x1;_0x4cc11b<_0x16cddd[_0xb70106(0xcd)];_0x4cc11b++){const _0x36dd43=_0x16cddd[_0x4cc11b];if(!_0x36dd43)continue;const _0x3da58e=_0x358b5b[_0xb70106(0x130)](_0x36dd43);if(_0x3da58e){const _0x5a4c98=clonarNodoXML(_0x3da58e),_0x110c2b=_0x5a4c98[_0xb70106(0x130)](_0xb70106(0xdc));_0x110c2b&&_0x5a4c98[_0xb70106(0xc7)](_0x110c2b);const _0x579c32=_0x5a4c98[_0xb70106(0xee)][_0xb70106(0xca)]();if(_0x579c32&&_0x579c32!=='/'){if(_0x36dd43===_0xb70106(0xb2)){const _0x3c0933=_0x3da58e['querySelector'](_0xb70106(0xe1))?parseInt(_0x3da58e['querySelector']('red')[_0xb70106(0xee)]):0xff,_0x231898=_0x3da58e[_0xb70106(0x130)](_0xb70106(0x123))?parseInt(_0x3da58e['querySelector']('green')['textContent']):0xff,_0x2fa54b=_0x3da58e[_0xb70106(0x130)](_0xb70106(0x10e))?parseInt(_0x3da58e[_0xb70106(0x130)](_0xb70106(0x10e))[_0xb70106(0xee)]):0xff;_0x354328[_0xb70106(0xff)][_0x4cc11b-0x1]=str(color(_0x3c0933,_0x231898,_0x2fa54b));}else _0x354328[_0xb70106(0xff)][_0x4cc11b-0x1]=_0x579c32;}}}return _0x354328;}function procesarConexiones(_0x5bec9e,_0x440c1d){const _0x53f616=a0_0x3908;let _0x354eaa=null,_0x40cf18=null;const _0x4f23ce=_0x5bec9e[_0x53f616(0x130)](_0x53f616(0xec));if(_0x4f23ce){const _0x297a21=Array['from'](_0x4f23ce[_0x53f616(0x7b)]);_0x297a21[_0x53f616(0xcd)]>0x0&&(_0x40cf18=_0x297a21[0x0],_0x354eaa=procesarBloque(_0x40cf18,![]));}if(_0x440c1d[_0x53f616(0xd2)]===_0x53f616(0x11f)){const _0x4c2634=new Bloque(_0x440c1d['x'],_0x440c1d['y'],0x2,0x5,t[0x2][0x5],![],!![]);codigo['push'](_0x4c2634),cont++,_0x4c2634['num']=cont,_0x440c1d[_0x53f616(0xfe)]=_0x4c2634,_0x4c2634[_0x53f616(0xfd)]=_0x440c1d,_0x354eaa&&(_0x4c2634[_0x53f616(0xfe)]=_0x354eaa,_0x354eaa[_0x53f616(0xfd)]=_0x4c2634);}else _0x354eaa&&(_0x440c1d[_0x53f616(0xfe)]=_0x354eaa,_0x354eaa[_0x53f616(0xfd)]=_0x440c1d);_0x354eaa&&_0x40cf18&&procesarConexiones(_0x40cf18,_0x354eaa);const _0x2d9ad9=obtenerInfoBloqueCrumble(_0x440c1d['nombre']);if(_0x2d9ad9&&_0x440c1d[_0x53f616(0x114)])for(let _0x37c783=0x1;_0x37c783<_0x2d9ad9[_0x53f616(0xcd)];_0x37c783++){const _0x2ee1fa=_0x2d9ad9[_0x37c783];if(!_0x2ee1fa)continue;const _0x5906a=_0x5bec9e[_0x53f616(0x130)](_0x2ee1fa);if(_0x5906a){const _0x174ab4=_0x5906a[_0x53f616(0x130)](_0x53f616(0xdc));if(_0x174ab4){const _0x1d027a=Array[_0x53f616(0x109)](_0x174ab4[_0x53f616(0x7b)]);for(let _0x5d9c21 of _0x1d027a){const _0xaf762d=procesarBloque(_0x5d9c21,![]);if(_0xaf762d){const _0x1ded4c=bloqueSeleccionado;bloqueSeleccionado=_0xaf762d;try{if(_0x37c783-0x1<_0x440c1d[_0x53f616(0x114)][_0x53f616(0xcd)]){if(_0x440c1d[_0x53f616(0x114)][_0x37c783-0x1]){const _0x2fa29e=codigo[_0x53f616(0xfc)](_0x440c1d[_0x53f616(0x114)][_0x37c783-0x1]);_0x2fa29e!==-0x1&&codigo[_0x53f616(0x13b)](_0x2fa29e,0x1);}_0x440c1d[_0x53f616(0x114)][_0x37c783-0x1]=_0xaf762d,_0xaf762d[_0x53f616(0x95)]=_0x440c1d;}}catch(_0x18fc8e){console[_0x53f616(0xe9)](_0x53f616(0xb5),_0x18fc8e);}bloqueSeleccionado=_0x1ded4c,procesarConexiones(_0x5d9c21,_0xaf762d);}}}}}const _0xf812f1=_0x5bec9e[_0x53f616(0xdb)](_0x53f616(0x10b));for(let _0x354e43 of _0xf812f1){const _0xcf534f=_0x354e43[_0x53f616(0x9b)]?.['tagName'];if([_0x53f616(0x9a),_0x53f616(0xbf),_0x53f616(0x83)][_0x53f616(0xf2)](_0xcf534f))continue;const _0x292e39=_0x354e43[_0x53f616(0x7b)][0x0];if(!_0x292e39)continue;const _0x1b6de1=_0x354e43[_0x53f616(0xa2)](_0x53f616(0xea)),_0x1a68e9=procesarBloque(_0x292e39,![]);if(!_0x1a68e9)continue;if(_0x1a68e9[_0x53f616(0xd2)]===_0x53f616(0x11f)){const _0x32037e=new Bloque(_0x1a68e9['x'],_0x1a68e9['y'],0x2,0x5,t[0x2][0x5],![],!![]);codigo[_0x53f616(0x71)](_0x32037e),cont++,_0x32037e[_0x53f616(0xf0)]=cont,_0x1a68e9[_0x53f616(0xfe)]=_0x32037e,_0x32037e[_0x53f616(0xfd)]=_0x1a68e9;}_0x440c1d[_0x53f616(0xd2)]===_0x53f616(0x11f)&&_0x1b6de1==='1'?(_0x440c1d[_0x53f616(0xfe)][_0x53f616(0x137)]=_0x1a68e9,_0x1a68e9[_0x53f616(0x95)]=_0x440c1d[_0x53f616(0xfe)]):(_0x440c1d[_0x53f616(0x137)]=_0x1a68e9,_0x1a68e9[_0x53f616(0x95)]=_0x440c1d),procesarConexiones(_0x292e39,_0x1a68e9);}}function clonarNodoXML(_0x18824e){const _0x46cd01=a0_0x3908;if(!_0x18824e)return null;try{return _0x18824e['cloneNode'](!![]);}catch(_0x4ce718){return console['warn'](_0x46cd01(0xb3),_0x4ce718),null;}}function crearVariable(_0x3595e5){const _0x47eb79=a0_0x3908,_0x31475f=new Bloque(0x0,0x0,0x3,0x3,t[0x3][0x3],![],!![]);_0x31475f['texto'][0x0]=_0x3595e5,_0x31475f['AxTexto'][0x0]=textWidth(_0x3595e5),codigoVariables[_0x47eb79(0x71)](_0x31475f);const _0x121112=new Bloque(0x0,0x0,0x3,0x4,BOTON_VARIABLE,![],!![]);return _0x121112[_0x47eb79(0x100)][0x0]=_0x3595e5,_0x121112[_0x47eb79(0x13f)]=_0x31475f,botonesVariables[_0x47eb79(0x71)](_0x121112),_0x31475f;}function eliminarCrumble(){ejecutando=![],codigo=[],bloquesStart=[],codigoVariables=[],bloqueSeleccionado=null,bloquesSeleccionados=[],botonesVariables=[];}function a0_0x3908(_0x197b9b,_0x4111c3){_0x197b9b=_0x197b9b-0x71;const _0x577530=a0_0x5775();let _0x3908e7=_0x577530[_0x197b9b];return _0x3908e7;}function cargarTapete(){modo=0x6;}function eliminarTapete(){const _0x5723de=a0_0x3908;fondo=null,nombreFondo=null,alert(_0x5723de(0x101));}function salirAplicacion(){const _0x3e85ca=a0_0x3908;confirm(_0x3e85ca(0x8d))&&window[_0x3e85ca(0xb0)]();}document[a0_0x4a5022(0x72)](a0_0x4a5022(0x7a),function(){crearMenuHTML();});