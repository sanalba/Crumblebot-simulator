const a0_0x2b4330=a0_0x4e18;(function(_0x48d998,_0x1d4d3a){const _0x467b5e=a0_0x4e18,_0x560f1a=_0x48d998();while(!![]){try{const _0x4486bf=-parseInt(_0x467b5e(0x83))/0x1*(-parseInt(_0x467b5e(0x93))/0x2)+-parseInt(_0x467b5e(0x98))/0x3*(-parseInt(_0x467b5e(0xba))/0x4)+parseInt(_0x467b5e(0x9f))/0x5*(parseInt(_0x467b5e(0x8b))/0x6)+-parseInt(_0x467b5e(0x84))/0x7+parseInt(_0x467b5e(0xab))/0x8*(-parseInt(_0x467b5e(0xa6))/0x9)+-parseInt(_0x467b5e(0xa3))/0xa*(-parseInt(_0x467b5e(0x8c))/0xb)+parseInt(_0x467b5e(0xb6))/0xc;if(_0x4486bf===_0x1d4d3a)break;else _0x560f1a['push'](_0x560f1a['shift']());}catch(_0x59f52d){_0x560f1a['push'](_0x560f1a['shift']());}}}(a0_0xa19d,0x83923));class Jumper{constructor(_0x55fbcd,_0x172b76,_0x597608,_0x4f8377,_0x1df58c,_0x54b29a){const _0x3e08de=a0_0x4e18;this['x']=_0x55fbcd,this['y']=_0x172b76,this[_0x3e08de(0xa7)]=0x28,this[_0x3e08de(0x81)]=0xf,this[_0x3e08de(0xa5)]=[_0x597608,_0x4f8377],this[_0x3e08de(0xaa)]=_0x1df58c,this[_0x3e08de(0xaf)]=_0x54b29a;}[a0_0x2b4330(0x8a)](_0x41b6a5){const _0x3997f9=a0_0x2b4330;if(this['extremo'][0x1]===_0x41b6a5)return this['extremo'][0x0];else return this[_0x3997f9(0xa5)][0x1];}[a0_0x2b4330(0x94)](){const _0x69e37b=a0_0x2b4330;for(let _0x3ec278=0x0;_0x3ec278<conectorGPIO[_0x69e37b(0x99)];_0x3ec278++){if(this['esCable']===![]&&dist(this['x'],this['y'],conectorGPIO[_0x3ec278]['x'],conectorGPIO[_0x3ec278]['y'])<0x5){elemento[_0x3ec278][_0x69e37b(0xb8)]===null&&gpio[_0x3ec278][_0x69e37b(0x9a)]===null&&(this[_0x69e37b(0xaf)]=color(0xff,0xff,0x0),this['x']=conectorGPIO[_0x3ec278]['x'],this['y']=conectorGPIO[_0x3ec278]['y'],_0x3ec278<0x5?(this['extremo'][0x0][_0x69e37b(0xa2)]=elemento[_0x3ec278],this['extremo'][0x1][_0x69e37b(0xad)]=gpio[_0x3ec278],elemento[_0x3ec278][_0x69e37b(0xb8)]=this[_0x69e37b(0xa5)][0x0],gpio[_0x3ec278]['conectorGPIO']=this['extremo'][0x1]):(this[_0x69e37b(0xa5)][0x1][_0x69e37b(0xa2)]=elemento[_0x3ec278],this['extremo'][0x0][_0x69e37b(0xad)]=gpio[_0x3ec278],elemento[_0x3ec278]['conectorElemento']=this[_0x69e37b(0xa5)][0x1],gpio[_0x3ec278][_0x69e37b(0x9a)]=this[_0x69e37b(0xa5)][0x0]));return;}}}[a0_0x2b4330(0x9e)](){const _0x8c2fd8=a0_0x2b4330;if(transformedXbasico>this['x']-this['ancho']/0x2&&transformedXbasico<this['x']+this[_0x8c2fd8(0xa7)]/0x2&&transformedYbasico>this['y']-this['alto']/0x2&&transformedYbasico<this['y']+this[_0x8c2fd8(0x81)]/0x2){this['colorCable']=color(0xff,0xc8,0x0),offsetX=this['x']-transformedXbasico,offsetY=this['y']-transformedYbasico;if(this[_0x8c2fd8(0xa5)][0x0]['elementoConectado']!==null)this[_0x8c2fd8(0xa5)][0x0][_0x8c2fd8(0xa2)][_0x8c2fd8(0xb8)]=null,this['extremo'][0x1][_0x8c2fd8(0xad)][_0x8c2fd8(0x9a)]=null,this[_0x8c2fd8(0xa5)][0x0]['elementoConectado']=null,this['extremo'][0x1][_0x8c2fd8(0xad)]=null;else this[_0x8c2fd8(0xa5)][0x0][_0x8c2fd8(0xad)]!==null&&(this['extremo'][0x1][_0x8c2fd8(0xa2)]['conectorElemento']=null,this[_0x8c2fd8(0xa5)][0x0][_0x8c2fd8(0xad)][_0x8c2fd8(0x9a)]=null,this[_0x8c2fd8(0xa5)][0x1][_0x8c2fd8(0xa2)]=null,this['extremo'][0x0]['gpioConectado']=null);return this;}return null;}[a0_0x2b4330(0x85)](){const _0x425a53=a0_0x2b4330;rectMode(CENTER),stroke(0x0,0x7d,0x0),strokeWeight(0x1);if(this['esCable']===![])this['extremo'][0x0][_0x425a53(0xad)]!==null||this[_0x425a53(0xa5)][0x0][_0x425a53(0xa2)]!==null?fill(0xff,0xff,0x0):fill(0xff,0xc8,0x0),rect(this['x'],this['y'],this[_0x425a53(0xa7)],this['alto']);else{for(let _0x4e805c=0x0;_0x4e805c<0x2;_0x4e805c++){this[_0x425a53(0xa5)][_0x4e805c][_0x425a53(0xa2)]!==null||this[_0x425a53(0xa5)][_0x4e805c][_0x425a53(0xad)]!==null?fill(0x0,0xff,0x0):fill(0x0),rect(this[_0x425a53(0xa5)][_0x4e805c]['x'],this['extremo'][_0x4e805c]['y'],0xa,0xa);}noFill(),stroke(this[_0x425a53(0xaf)]),strokeWeight(0x5),beginShape(),curveVertex(this[_0x425a53(0xa5)][0x0]['x'],this[_0x425a53(0xa5)][0x0]['y']-0xa),curveVertex(this[_0x425a53(0xa5)][0x0]['x'],this[_0x425a53(0xa5)][0x0]['y']),curveVertex((this[_0x425a53(0xa5)][0x0]['x']+this[_0x425a53(0xa5)][0x1]['x'])/0x2,(this[_0x425a53(0xa5)][0x0]['y']+this[_0x425a53(0xa5)][0x1]['y'])/0x2-abs(this['extremo'][0x0]['x']-this[_0x425a53(0xa5)][0x1]['x'])),curveVertex(this[_0x425a53(0xa5)][0x1]['x'],this[_0x425a53(0xa5)][0x1]['y']),curveVertex(this[_0x425a53(0xa5)][0x1]['x'],this['extremo'][0x1]['y']+0xa),endShape();}}}class Conector{constructor(){const _0x2cc451=a0_0x2b4330;this['x']=0x0,this['y']=0x0,this[_0x2cc451(0x87)]=null,this[_0x2cc451(0xad)]=null,this[_0x2cc451(0xa2)]=null;}[a0_0x2b4330(0x9e)](){const _0x1cea9e=a0_0x2b4330;if(dist(transformedXbasico,transformedYbasico,this['x'],this['y'])<0x5){if(this[_0x1cea9e(0xa2)]!==null)this[_0x1cea9e(0xa2)][_0x1cea9e(0xb8)]=null,this[_0x1cea9e(0xa2)]=null;else this[_0x1cea9e(0xad)]!==null&&(this['gpioConectado'][_0x1cea9e(0x9a)]=null,this[_0x1cea9e(0xad)]=null);return offsetX=this['x']-transformedXbasico,offsetY=this['y']-transformedYbasico,this;}return null;}[a0_0x2b4330(0x94)](){const _0xca6f1f=a0_0x2b4330;for(let _0x26314=0x0;_0x26314<elemento[_0xca6f1f(0x99)];_0x26314++){if(dist(transformedXbasico,transformedYbasico,elemento[_0x26314]['x'],elemento[_0x26314]['y'])<0xa){elemento[_0x26314]['conectorElemento']===null&&(this[_0xca6f1f(0x87)][_0xca6f1f(0x8a)](this)['elementoConectado']===null?(this[_0xca6f1f(0xa2)]=elemento[_0x26314],elemento[_0x26314]['conectorElemento']=this,this['x']=elemento[_0x26314]['x'],this['y']=elemento[_0x26314]['y']):(inicioMensaje=millis(),mensaje=_0xca6f1f(0xb0)));return;}}for(let _0x33c224=0x0;_0x33c224<gpio[_0xca6f1f(0x99)];_0x33c224++){if(dist(transformedXbasico,transformedYbasico,gpio[_0x33c224]['x'],gpio[_0x33c224]['y'])<0xa){gpio[_0x33c224][_0xca6f1f(0x9a)]===null&&(this[_0xca6f1f(0x87)][_0xca6f1f(0x8a)](this)[_0xca6f1f(0xad)]===null?(this[_0xca6f1f(0xad)]=gpio[_0x33c224],gpio[_0x33c224][_0xca6f1f(0x9a)]=this,this['x']=gpio[_0x33c224]['x'],this['y']=gpio[_0x33c224]['y']):(inicioMensaje=millis(),mensaje=_0xca6f1f(0x82)));return;}}}}class ConectorGPIO{constructor(_0x5c3ac3,_0x131b9f){this['x']=_0x5c3ac3,this['y']=_0x131b9f;}}class Letra{constructor(_0x5c196d){const _0x331ac8=a0_0x2b4330;this[_0x331ac8(0xa1)]=_0x5c196d,this[_0x331ac8(0xa0)]=0x0,this[_0x331ac8(0x97)]=0x0,this[_0x331ac8(0xac)]=[];}[a0_0x2b4330(0xb1)](){const _0x5857a4=a0_0x2b4330;let _0x196316=this[_0x5857a4(0xa0)];for(let _0x2f4268 of this['gpioLetra']){let _0x37a9c6=0x0;if(_0x2f4268[_0x5857a4(0x9a)]!==null){let _0x22b040=_0x2f4268[_0x5857a4(0x9a)]['jumperAsociado'][_0x5857a4(0x8a)](_0x2f4268[_0x5857a4(0x9a)]),_0x12f478=_0x22b040?_0x22b040['elementoConectado']:null;_0x12f478!==null?_0x37a9c6=_0x12f478['actualizarValor']():_0x37a9c6=0x0;}if(_0x37a9c6>_0x196316)_0x196316=_0x37a9c6;}return this[_0x5857a4(0x97)]=_0x196316,this[_0x5857a4(0x97)];}}class GPIO{constructor(_0x72c30b,_0x369a3f,_0xd6bd9c){const _0x31175d=a0_0x2b4330;this['x']=_0x72c30b,this['y']=_0x369a3f,this[_0x31175d(0x9c)]=_0xd6bd9c,this[_0x31175d(0x9a)]=null;}}class Elemento{constructor(_0x448b6e,_0x2f6e55,_0x224520){const _0x4b8c68=a0_0x2b4330;this['x']=_0x448b6e,this['y']=_0x2f6e55,this[_0x4b8c68(0x88)]=_0x224520,this[_0x4b8c68(0xb3)]=0x0,this['conectorElemento']=null;}[a0_0x2b4330(0xb1)](){const _0xab9ad5=a0_0x2b4330;let _0x286066,_0xae1840;desplazandoRobot?(_0x286066=CrumX,_0xae1840=CrumY):(_0x286066=robotFisico[_0xab9ad5(0x8d)][_0xab9ad5(0xb4)]['x'],_0xae1840=robotFisico[_0xab9ad5(0x8d)][_0xab9ad5(0xb4)]['y']);if(this['elemento']===_0xab9ad5(0x9b))robot[_0xab9ad5(0x86)]===!![]&&ejecutando===!![]&&(this['valorElemento']=int(calcularDistanciaRayo())/0xa);else{if(this['elemento']===_0xab9ad5(0x8f)){if(desplazandoBulb===!![]){let _0xf0a1e1=windowWidth/0x2+(panSimulacionX+DIST_LDR*cos(robotFisico['body'][_0xab9ad5(0xa9)]-ANGULO_LDR))*zoomSimulacion,_0x48680e=windowHeight/0x2+(panSimulacionY+DIST_LDR*sin(robotFisico[_0xab9ad5(0x8d)]['angle']-ANGULO_LDR))*zoomSimulacion;this[_0xab9ad5(0xb3)]=int(0x2710/dist(_0xf0a1e1,_0x48680e,mouseX,mouseY));}else this[_0xab9ad5(0xb3)]=0x0;}else{if(this[_0xab9ad5(0x88)]===_0xab9ad5(0xb5)&&fondo!==null&&fondo!==undefined){let _0x141318=fondo[_0xab9ad5(0x90)]/0x2+_0x286066+DIST_SENSOR_BN*cos(robotFisico['body'][_0xab9ad5(0xa9)]-ANGULO_SENSOR_BN),_0x31b8fc=fondo['height']/0x2+_0xae1840+DIST_SENSOR_BN*sin(robotFisico['body'][_0xab9ad5(0xa9)]-ANGULO_SENSOR_BN);_0x141318>fondo['width']||_0x141318<0x0||_0x31b8fc>fondo[_0xab9ad5(0x80)]||_0x31b8fc<0x0?this[_0xab9ad5(0xb3)]=0x0:this[_0xab9ad5(0xb3)]=0xff-getRealLuminosity(fondo[_0xab9ad5(0x95)](int(_0x141318),int(_0x31b8fc)));}else{if(this[_0xab9ad5(0x88)]===_0xab9ad5(0xa4)){if(desplazandoBulb===!![]){let _0x14a520=windowWidth/0x2+(panSimulacionX+DIST_LDR*cos(robotFisico[_0xab9ad5(0x8d)]['angle']+ANGULO_LDR))*zoomSimulacion,_0x2af7da=windowHeight/0x2+(panSimulacionY+DIST_LDR*sin(robotFisico[_0xab9ad5(0x8d)][_0xab9ad5(0xa9)]+ANGULO_LDR))*zoomSimulacion;this['valorElemento']=0xff-int(0x2710/dist(_0x14a520,_0x2af7da,mouseX,mouseY));}else this[_0xab9ad5(0xb3)]=0x0;}else{if(this[_0xab9ad5(0x88)]===_0xab9ad5(0x91)&&fondo!==null&&fondo!==undefined){let _0x652465=fondo['width']/0x2+_0x286066+DIST_SENSOR_BN*cos(robotFisico['body'][_0xab9ad5(0xa9)]+ANGULO_SENSOR_BN),_0x407944=fondo[_0xab9ad5(0x80)]/0x2+_0xae1840+DIST_SENSOR_BN*sin(robotFisico[_0xab9ad5(0x8d)]['angle']+ANGULO_SENSOR_BN);_0x652465>fondo[_0xab9ad5(0x90)]||_0x652465<0x0||_0x407944>fondo[_0xab9ad5(0x80)]||_0x407944<0x0?this['valorElemento']=0x0:this['valorElemento']=0xff-getRealLuminosity(fondo[_0xab9ad5(0x95)](int(_0x652465),int(_0x407944)));}}}}}return this[_0xab9ad5(0xb3)];}}function getRealLuminosity(_0x1291d1){return red(_0x1291d1)*0.299+green(_0x1291d1)*0.587+blue(_0x1291d1)*0.114;}function calcularDistanciaRayo(){const _0x4af39d=a0_0x2b4330;let _0x5dec7b=radians(0xf),_0x254602=0x5,_0x5848c1=0xfa0,_0x3ccf2c=robotFisico[_0x4af39d(0x8d)][_0x4af39d(0xb4)]['x']+robotFisico['frontal']*cos(robotFisico[_0x4af39d(0x8d)]['angle']),_0x4e8579=robotFisico[_0x4af39d(0x8d)][_0x4af39d(0xb4)]['y']+robotFisico[_0x4af39d(0x89)]*sin(robotFisico['body'][_0x4af39d(0xa9)]),_0x3338ec=robotFisico[_0x4af39d(0x8d)]['angle'];for(let _0x32c64f=0x0;_0x32c64f<=_0x254602;_0x32c64f++){let _0x1b75fe=_0x3338ec+(-_0x5dec7b/0x2+_0x32c64f*(_0x5dec7b/_0x254602)),_0x1d4aec=createVector(Math[_0x4af39d(0xae)](_0x1b75fe),Math[_0x4af39d(0xb7)](_0x1b75fe));for(let _0x22e164 of obstaculo){let _0x20ab54=calcularInterseccionSegmento(_0x3ccf2c,_0x4e8579,_0x1d4aec,_0x22e164);if(_0x20ab54&&_0x20ab54['distancia']>0x0&&_0x20ab54[_0x4af39d(0xb9)]<_0x5848c1){let _0x1f54f5=Math[_0x4af39d(0x96)](_0x1d4aec[_0x4af39d(0x92)](_0x20ab54[_0x4af39d(0xb2)]));_0x1f54f5<0.7/(_0x20ab54[_0x4af39d(0xb9)]/0x1f4)&&(_0x5848c1=_0x20ab54[_0x4af39d(0xb9)]);}}for(let _0x4bf8b8 of laterales){let _0x29c626=calcularInterseccionSegmento(_0x3ccf2c,_0x4e8579,_0x1d4aec,_0x4bf8b8);if(_0x29c626&&_0x29c626[_0x4af39d(0xb9)]>0x0&&_0x29c626['distancia']<_0x5848c1){let _0x280188=Math[_0x4af39d(0x96)](_0x1d4aec[_0x4af39d(0x92)](_0x29c626[_0x4af39d(0xb2)]));_0x280188<0.7/(_0x29c626[_0x4af39d(0xb9)]/0x1f4)&&(_0x5848c1=_0x29c626[_0x4af39d(0xb9)]);}}}return _0x5848c1<0xfa0?_0x5848c1:0x0;}class ResultadoInterseccion{constructor(_0x8c3ecf,_0x3414c4,_0x268b9d){const _0x34130c=a0_0x2b4330;this['distancia']=_0x8c3ecf,this[_0x34130c(0xb2)]=_0x3414c4,this['interseccion']=_0x268b9d;}}function calcularInterseccionSegmento(_0x54fe58,_0xa2e7c1,_0xd19b1,_0x5c0cfb){const _0x379a37=a0_0x2b4330;let _0x590dcf=_0x5c0cfb[_0x379a37(0xa7)],_0x3af2dc=_0x5c0cfb['alto'],_0x575bd9=_0x5c0cfb[_0x379a37(0x8d)]['angle'],_0x4fc01c=Math['cos'](_0x575bd9),_0xf42cbd=Math[_0x379a37(0xb7)](_0x575bd9),_0x3f916c=_0x5c0cfb[_0x379a37(0x8d)]['position']['x'],_0x452142=_0x5c0cfb[_0x379a37(0x8d)][_0x379a37(0xb4)]['y'],_0x27010b=[createVector(_0x3f916c+-_0x590dcf/0x2*_0x4fc01c- -_0x3af2dc/0x2*_0xf42cbd,_0x452142+-_0x590dcf/0x2*_0xf42cbd+-_0x3af2dc/0x2*_0x4fc01c),createVector(_0x3f916c+_0x590dcf/0x2*_0x4fc01c- -_0x3af2dc/0x2*_0xf42cbd,_0x452142+_0x590dcf/0x2*_0xf42cbd+-_0x3af2dc/0x2*_0x4fc01c),createVector(_0x3f916c+_0x590dcf/0x2*_0x4fc01c-_0x3af2dc/0x2*_0xf42cbd,_0x452142+_0x590dcf/0x2*_0xf42cbd+_0x3af2dc/0x2*_0x4fc01c),createVector(_0x3f916c+-_0x590dcf/0x2*_0x4fc01c-_0x3af2dc/0x2*_0xf42cbd,_0x452142+-_0x590dcf/0x2*_0xf42cbd+_0x3af2dc/0x2*_0x4fc01c)];for(let _0x329c7e=0x0;_0x329c7e<0x4;_0x329c7e++){let _0x5180ed=_0x27010b[_0x329c7e],_0x312edb=_0x27010b[(_0x329c7e+0x1)%0x4],_0x54109a=lineIntersect(_0x54fe58,_0xa2e7c1,_0x54fe58+_0xd19b1['x']*0xfa0,_0xa2e7c1+_0xd19b1['y']*0xfa0,_0x5180ed['x'],_0x5180ed['y'],_0x312edb['x'],_0x312edb['y']);if(_0x54109a){let _0x490f93=dist2D(_0x54fe58,_0xa2e7c1,_0x54109a['x'],_0x54109a['y']),_0x383727=p5[_0x379a37(0x8e)][_0x379a37(0xa8)](_0x312edb,_0x5180ed)[_0x379a37(0x9d)]();return new ResultadoInterseccion(_0x490f93,_0x383727,_0x54109a);}}return null;}function dist2D(_0x7622af,_0x2f18c2,_0x2f2e93,_0x9132d7){return Math['hypot'](_0x2f2e93-_0x7622af,_0x9132d7-_0x2f18c2);}function a0_0x4e18(_0xef71d6,_0x116cb7){_0xef71d6=_0xef71d6-0x80;const _0xa19db0=a0_0xa19d();let _0x4e1890=_0xa19db0[_0xef71d6];return _0x4e1890;}function a0_0xa19d(){const _0x150e81=['elemento','frontal','devolverOtroExtremo','163494AxqpId','8773633PCEAKl','body','Vector','LIGHT1','width','LINE2','dot','2KNTAtz','conectar','get','abs','valorLetra','2790BYTUgk','length','conectorGPIO','SONIC','letraAsociada','normalize','desconectar','80vJoqsE','valorOutput','letra','elementoConectado','10hAcKRc','LIGHT2','extremo','1225152cIKgcc','ancho','sub','angle','esCable','48xhabwQ','gpioLetra','gpioConectado','cos','colorCable','No\x20es\x20posible\x20conectar.\x20El\x20otro\x20extremo\x20del\x20conector\x20es\x20también\x20un\x20sensor/actuador','actualizarValor','direccionSegmento','valorElemento','position','LINE1','7752852rMcuTY','sin','conectorElemento','distancia','524YKXLXb','height','alto','No\x20es\x20posible\x20conectar.\x20El\x20otro\x20extremo\x20del\x20conector\x20es\x20también\x20una\x20letra','22829uzDtAB','4680438xMVJIu','dibujar','ultrasonidosConectado','jumperAsociado'];a0_0xa19d=function(){return _0x150e81;};return a0_0xa19d();}function lineIntersect(_0x3b822b,_0x522bf8,_0x53136f,_0x339966,_0x1d190c,_0x4d8110,_0x1f778f,_0x55e7ea){let _0x40b900=(_0x55e7ea-_0x4d8110)*(_0x53136f-_0x3b822b)-(_0x1f778f-_0x1d190c)*(_0x339966-_0x522bf8);if(abs(_0x40b900)<0.0001)return null;let _0xdf85f6=((_0x1f778f-_0x1d190c)*(_0x522bf8-_0x4d8110)-(_0x55e7ea-_0x4d8110)*(_0x3b822b-_0x1d190c))/_0x40b900,_0x193a5c=((_0x53136f-_0x3b822b)*(_0x522bf8-_0x4d8110)-(_0x339966-_0x522bf8)*(_0x3b822b-_0x1d190c))/_0x40b900;if(_0xdf85f6>=0x0&&_0xdf85f6<=0x1&&_0x193a5c>=0x0&&_0x193a5c<=0x1)return createVector(_0x3b822b+_0xdf85f6*(_0x53136f-_0x3b822b),_0x522bf8+_0xdf85f6*(_0x339966-_0x522bf8));return null;}